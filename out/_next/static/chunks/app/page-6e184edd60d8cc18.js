(self["webpackChunk_N_E"]=self["webpackChunk_N_E"]||[]).push([[974],{40079:(e,s,a)=>{"use strict";a.d(s,{Dashboard:()=>tR});var t=a(95155);var r=a(12115);var l=a(50395);var i=a(53999);function n(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,i.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,i.cn)("leading-none font-semibold",s),...a})}function o(e){let{className:s,...a}=e;return _jsx("div",{"data-slot":"card-description",className:cn("text-muted-foreground text-sm",s),...a})}function x(e){let{className:s,...a}=e;return _jsx("div",{"data-slot":"card-action",className:cn("col-start-2 row-span-2 row-start-1 self-start justify-self-end",s),...a})}function m(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",s),...a})}function h(e){let{className:s,...a}=e;return _jsx("div",{"data-slot":"card-footer",className:cn("flex items-center px-6 [.border-t]:pt-6",s),...a})}var u=a(99708);var j=a(74466);const p=(0,j.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function g(e){let{className:s,variant:a,size:r,asChild:l=false,...n}=e;const c=l?u.DX:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,i.cn)(p({variant:a,size:r,className:s})),...n})};const v=(0,j.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function f(e){let{className:s,variant:a,asChild:r=false,...l}=e;const n=r?u.DX:"span";return(0,t.jsx)(n,{"data-slot":"badge",className:(0,i.cn)(v({variant:a}),s),...l})}var N=a(53580);var b=a(17951);var y=a(75525);var w=a(17580);var A=a(71007);var C=a(48136);var S=a(27809);var k=a(51154);var T=a(70306);const D={superadmin:b.A,admin:y.A,gerente:w.A,operator:A.A,subdistributor:C.A,vendor:S.A};const z={superadmin:"from-red-500 to-red-600",admin:"from-blue-500 to-blue-600",gerente:"from-green-500 to-green-600",operator:"from-yellow-500 to-yellow-600",subdistributor:"from-purple-500 to-purple-600",vendor:"from-gray-500 to-gray-600"};const P={superadmin:"Acceso completo al sistema, gesti\xf3n de usuarios y configuraci\xf3n global",admin:"Gesti\xf3n de operaciones, usuarios y reportes avanzados",gerente:"Supervisi\xf3n de equipos, reportes y gesti\xf3n de clientes",operator:"Activaciones, recargas y atenci\xf3n al cliente",subdistributor:"Ventas y gesti\xf3n de clientes asignados",vendor:"Ventas b\xe1sicas y activaciones de l\xedneas"};const M={superadmin:"Super Administrador",admin:"Administrador",gerente:"Gerente",operator:"Operador",subdistributor:"Subdistribuidor",vendor:"Vendedor"};function E(){const[e,s]=(0,r.useState)(null);const{loginAsDemo:a,isLoading:i}=(0,l.A)();const{toast:o}=(0,N.dj)();const x=async e=>{s(e);try{const s=await a(e);if(s){const s=l._[e];o({title:"\xa1Bienvenido!",description:"Sesi\xf3n iniciada como ".concat(s.name," (").concat(M[e],")")})}else{o({title:"Error",description:"No se pudo iniciar la sesi\xf3n demo",variant:"destructive"})}}catch(e){o({title:"Error",description:"Ocurri\xf3 un error al iniciar sesi\xf3n",variant:"destructive"})}finally{s(null)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-6",children:(0,t.jsxs)("div",{className:"w-full max-w-6xl",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl",children:(0,t.jsx)(b.A,{className:"h-10 w-10 text-white"})}),(0,t.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"OMV Dashboard"}),(0,t.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"Sistema BSS/CRM Profesional"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Selecciona un rol para acceder al sistema con permisos espec\xedficos"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.keys(l._).map(s=>{const a=l._[s];const r=D[s];const o=e===s;return(0,t.jsxs)(n,{className:"hover:shadow-xl transition-all duration-300 transform hover:scale-105 border-2 hover:border-blue-200",children:[(0,t.jsx)(c,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br ".concat(z[s]," rounded-xl flex items-center justify-center shadow-lg"),children:(0,t.jsx)(r,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d,{className:"text-lg",children:M[s]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:a.name})]})]})}),(0,t.jsxs)(m,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:P[s]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,t.jsx)(w.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:a.department}),a.supervisor&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:["Supervisor: ",a.supervisor]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"Permisos principales:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.permissions.slice(0,3).map((e,s)=>(0,t.jsx)(f,{variant:"outline",className:"text-xs",children:e.split(".")[0]},s)),a.permissions.length>3&&(0,t.jsxs)(f,{variant:"outline",className:"text-xs",children:["+",a.permissions.length-3," m\xe1s"]})]})]}),(0,t.jsx)(g,{onClick:()=>x(s),disabled:i||o,className:"w-full bg-gradient-to-r ".concat(z[s]," hover:shadow-lg transition-all duration-300"),size:"lg",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Iniciando sesi\xf3n..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.A,{className:"mr-2 h-4 w-4"}),"Acceder como ",M[s]]})})]})]},s)})}),(0,t.jsx)("div",{className:"mt-12 text-center",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaci\xf3n del Sistema"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:"Sistema en l\xednea"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,t.jsx)("span",{children:"Versi\xf3n 1.0.0"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,t.jsx)("span",{children:"Entorno: Demo"})]})]})]})})]})})}var R=a(86986);const I=r.forwardRef((e,s)=>{let{className:a,orientation:r="horizontal",decorative:l=true,...n}=e;return(0,t.jsx)(R.b,{ref:s,decorative:l,orientation:r,className:(0,i.cn)("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",a),...n})});I.displayName=R.b.displayName;const F={dashboard:["dashboard.read"],activations:["activations.read","activations.write"],recharges:["recharges.read","recharges.write"],"plans-offers":["plans.read","plans.write"],customers:["customers.read","customers.write"],lines:["customers.read","customers.write"],sims:["sims.read","sims.write"],warehouse:["warehouse.read","warehouse.write"],balance:["balance.read","balance.write"],billing:["billing.read","billing.write"],transactions:["billing.read"],tickets:["tickets.read","tickets.write"],reports:["reports.read","reports.generate"],users:["users.read","users.write"],settings:["settings.read","settings.write"],"webhook-logs":["webhooks.read"]};const L={superadmin:["superadmin","admin","gerente","operator","subdistributor","vendor"],admin:["admin","gerente","operator","subdistributor","vendor"],gerente:["gerente","operator","subdistributor","vendor"],operator:["operator","subdistributor","vendor"],subdistributor:["subdistributor","vendor"],vendor:["vendor"]};function _(){const{user:e,hasPermission:s,hasRole:a}=(0,l.A)();const t=a=>{if(!e)return false;if(e.role==="superadmin")return true;const t=F[a]||[];if(t.length===0)return true;return t.some(e=>s(e))};const r=a=>{if(!e)return false;if(e.role==="superadmin")return true;return s(a)};const i=s=>{if(!e)return false;const a=L[e.role]||[];return a.includes(s)};const n=()=>{if(!e)return[];return Object.keys(F).filter(e=>t(e))};return{canAccessModule:t,canPerformAction:r,canManageUser:i,getAccessibleModules:n,hasPermission:s,hasRole:a}}var O=a(73783);var V=a(71539);var B=a(53904);var G=a(37108);var U=a(55670);var $=a(19420);var H=a(81586);var J=a(74131);var X=a(39785);var q=a(46308);var W=a(55868);var K=a(61432);var Z=a(72713);var Y=a(96753);var Q=a(381);var ee=a(23227);var es=a(13052);var ea=a(42355);const et=[{title:"Principal",items:[{id:"dashboard",label:"Dashboard",icon:O.A,roles:["superadmin","admin","gerente","operator","subdistributor","vendor"]}]},{title:"Ventas y Operaciones",items:[{id:"activations",label:"Activaciones",icon:V.A,roles:["superadmin","admin","gerente","operator","subdistributor","vendor"]},{id:"recharges",label:"Recargas",icon:B.A,roles:["superadmin","admin","gerente","operator","subdistributor","vendor"]},{id:"plans-offers",label:"Planes y Ofertas",icon:G.A,roles:["superadmin","admin","gerente"]}]},{title:"Gesti\xf3n de Clientes",items:[{id:"customers",label:"Clientes",icon:U.A,roles:["superadmin","admin","gerente","operator","subdistributor","vendor"]},{id:"lines",label:"L\xedneas",icon:$.A,roles:["superadmin","admin","gerente","operator"]}]},{title:"Inventario",items:[{id:"sims",label:"SIMs",icon:H.A,roles:["superadmin","admin","gerente","operator"]},{id:"warehouse",label:"Almac\xe9n",icon:J.A,roles:["superadmin","admin","gerente"]}]},{title:"Financiero",items:[{id:"balance",label:"Balance",icon:X.A,roles:["superadmin","admin","gerente","operator","subdistributor","vendor"]},{id:"billing",label:"Facturaci\xf3n",icon:q.A,roles:["superadmin","admin","gerente"]},{id:"transactions",label:"Transacciones",icon:W.A,roles:["superadmin","admin","gerente"]}]},{title:"Soporte y Reportes",items:[{id:"tickets",label:"Tickets",icon:K.A,roles:["superadmin","admin","gerente","operator","subdistributor","vendor"]},{id:"reports",label:"Reportes",icon:Z.A,roles:["superadmin","admin","gerente"]},{id:"webhook-logs",label:"Webhook Logs",icon:Y.A,roles:["superadmin","admin"]}]},{title:"Administraci\xf3n",items:[{id:"users",label:"Usuarios",icon:w.A,roles:["superadmin","admin","gerente"]},{id:"settings",label:"Configuraci\xf3n",icon:Q.A,roles:["superadmin","admin"]}]}];function er(e){let{activeView:s,setActiveView:a,userRole:r,collapsed:n,setCollapsed:c}=e;const{canAccessModule:d,canPerformAction:o}=_();const{user:x}=(0,l.A)();const m=(e,s)=>{const a=e.includes(r);const t=s?d(s):true;return a&&t};return(0,t.jsxs)("div",{className:(0,i.cn)("bg-white border-r border-gray-200 flex flex-col transition-all duration-300 shadow-sm",n?"w-16":"w-72"),children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[!n&&(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(ee.A,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"OMV Dashboard"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:(x===null||x===void 0?void 0:x.department)||"Sistema BSS/CRM"})]})]}),(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>c(!n),className:"p-1 h-8 w-8",children:n?(0,t.jsx)(es.A,{className:"h-4 w-4"}):(0,t.jsx)(ea.A,{className:"h-4 w-4"})})]})}),(0,t.jsx)("nav",{className:"flex-1 p-3 overflow-y-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:(0,t.jsx)("div",{className:"space-y-6",children:et.map((e,r)=>{const l=e.items.filter(e=>m(e.roles,e.id));if(l.length===0)return null;return(0,t.jsxs)("div",{children:[!n&&(0,t.jsx)("h3",{className:"px-3 mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:e.title}),(0,t.jsx)("ul",{className:"space-y-1",children:l.map(e=>{const r=e.icon;const l=s===e.id;return(0,t.jsx)("li",{children:(0,t.jsxs)(g,{variant:l?"default":"ghost",className:(0,i.cn)("w-full justify-start h-10 font-medium transition-all",n?"px-2":"px-3",l?"bg-blue-600 text-white shadow-sm hover:bg-blue-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),onClick:()=>a(e.id),title:n?e.label:undefined,children:[(0,t.jsx)(r,{className:(0,i.cn)("h-4 w-4",!n&&"mr-3")}),!n&&(0,t.jsx)("span",{children:e.label})]})},e.id)})}),!n&&r<et.length-1&&(0,t.jsx)(I,{className:"mt-4"})]},r)})})}),(0,t.jsx)("div",{className:"p-3 border-t border-gray-100",children:!n&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"\xa9 2024 OMV System"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"v1.0.0"})]}),x&&(0,t.jsxs)("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-700",children:x.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:x.department})]})]})})]})}var el=a(87142);function ei(e){let{...s}=e;return(0,t.jsx)(el.bL,{"data-slot":"dropdown-menu",...s})}function en(e){let{...s}=e;return _jsx(DropdownMenuPrimitive.Portal,{"data-slot":"dropdown-menu-portal",...s})}function ec(e){let{...s}=e;return(0,t.jsx)(el.l9,{"data-slot":"dropdown-menu-trigger",...s})}function ed(e){let{className:s,sideOffset:a=4,...r}=e;return(0,t.jsx)(el.ZL,{children:(0,t.jsx)(el.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...r})})}function eo(e){let{...s}=e;return _jsx(DropdownMenuPrimitive.Group,{"data-slot":"dropdown-menu-group",...s})}function ex(e){let{className:s,inset:a,variant:r="default",...l}=e;return(0,t.jsx)(el.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":r,className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...l})}function em(e){let{className:s,children:a,checked:t,...r}=e;return _jsxs(DropdownMenuPrimitive.CheckboxItem,{"data-slot":"dropdown-menu-checkbox-item",className:cn("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),checked:t,...r,children:[_jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:_jsx(DropdownMenuPrimitive.ItemIndicator,{children:_jsx(CheckIcon,{className:"size-4"})})}),a]})}function eh(e){let{...s}=e;return _jsx(DropdownMenuPrimitive.RadioGroup,{"data-slot":"dropdown-menu-radio-group",...s})}function eu(e){let{className:s,children:a,...t}=e;return _jsxs(DropdownMenuPrimitive.RadioItem,{"data-slot":"dropdown-menu-radio-item",className:cn("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t,children:[_jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:_jsx(DropdownMenuPrimitive.ItemIndicator,{children:_jsx(CircleIcon,{className:"size-2 fill-current"})})}),a]})}function ej(e){let{className:s,inset:a,...r}=e;return(0,t.jsx)(el.JU,{"data-slot":"dropdown-menu-label","data-inset":a,className:(0,i.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",s),...r})}function ep(e){let{className:s,...a}=e;return(0,t.jsx)(el.wv,{"data-slot":"dropdown-menu-separator",className:(0,i.cn)("bg-border -mx-1 my-1 h-px",s),...a})}function eg(e){let{className:s,...a}=e;return _jsx("span",{"data-slot":"dropdown-menu-shortcut",className:cn("text-muted-foreground ml-auto text-xs tracking-widest",s),...a})}function ev(e){let{...s}=e;return _jsx(DropdownMenuPrimitive.Sub,{"data-slot":"dropdown-menu-sub",...s})}function ef(e){let{className:s,inset:a,children:t,...r}=e;return _jsxs(DropdownMenuPrimitive.SubTrigger,{"data-slot":"dropdown-menu-sub-trigger","data-inset":a,className:cn("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",s),...r,children:[t,_jsx(ChevronRightIcon,{className:"ml-auto size-4"})]})}function eN(e){let{className:s,...a}=e;return _jsx(DropdownMenuPrimitive.SubContent,{"data-slot":"dropdown-menu-sub-content",className:cn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",s),...a})}var eb=a(2019);var ey=a(54416);const ew=eb.bL;const eA=eb.l9;const eC=eb.ZL;const eS=eb.bm;const ek=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eb.hJ,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});ek.displayName=eb.hJ.displayName;const eT=r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(eC,{children:[(0,t.jsx)(ek,{}),(0,t.jsxs)(eb.UC,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[r,(0,t.jsxs)(eb.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(ey.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eT.displayName=eb.UC.displayName;const eD=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};eD.displayName="DialogHeader";const ez=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};ez.displayName="DialogFooter";const eP=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eb.hE,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});eP.displayName=eb.hE.displayName;const eM=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eb.VY,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});eM.displayName=eb.VY.displayName;const eE=eb.bL;const eR=eb.l9;const eI=eb.bm;const eF=eb.ZL;const eL=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eb.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:s})});eL.displayName=eb.hJ.displayName;const e_=(0,j.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}});const eO=r.forwardRef((e,s)=>{let{side:a="right",className:r,children:l,...n}=e;return(0,t.jsxs)(eF,{children:[(0,t.jsx)(eL,{}),(0,t.jsxs)(eb.UC,{ref:s,className:(0,i.cn)(e_({side:a}),r),...n,children:[l,(0,t.jsxs)(eb.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(ey.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eO.displayName=eb.UC.displayName;const eV=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};eV.displayName="SheetHeader";const eB=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};eB.displayName="SheetFooter";const eG=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eb.hE,{ref:s,className:(0,i.cn)("text-lg font-semibold text-foreground overflow-y-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",a),...r})});eG.displayName=eb.hE.displayName;const eU=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eb.VY,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});eU.displayName=eb.VY.displayName;var e$=a(85977);function eH(e){let{className:s,...a}=e;return(0,t.jsx)(e$.bL,{"data-slot":"avatar",className:(0,i.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...a})}function eJ(e){let{className:s,...a}=e;return(0,t.jsx)(e$._V,{"data-slot":"avatar-image",className:(0,i.cn)("aspect-square size-full",s),...a})}function eX(e){let{className:s,...a}=e;return(0,t.jsx)(e$.H4,{"data-slot":"avatar-fallback",className:(0,i.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...a})}var eq=a(74783);var eW=a(47924);var eK=a(94788);var eZ=a(23861);var eY=a(34835);function eQ(e){let{className:s,type:a,...r}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})};const e0={superadmin:"Super Administrador",admin:"Administrador",gerente:"Gerente",operator:"Operador",subdistributor:"Subdistribuidor",vendor:"Vendedor"};const e2={superadmin:"bg-red-100 text-red-800 border-red-200",admin:"bg-blue-100 text-blue-800 border-blue-200",gerente:"bg-green-100 text-green-800 border-green-200",operator:"bg-yellow-100 text-yellow-800 border-yellow-200",subdistributor:"bg-purple-100 text-purple-800 border-purple-200",vendor:"bg-gray-100 text-gray-800 border-gray-200"};const e1=[{id:1,title:"Nueva activaci\xf3n",message:"SIM 8934567890123456789 activada exitosamente",time:"Hace 5 min",type:"success",read:false},{id:2,title:"Stock bajo",message:"Quedan menos de 50 SIMs en inventario",time:"Hace 15 min",type:"warning",read:false},{id:3,title:"Ticket asignado",message:"Ticket #1234 asignado a tu cuenta",time:"Hace 1 hora",type:"info",read:true},{id:4,title:"Recarga completada",message:"Recarga de $100 procesada correctamente",time:"Hace 2 horas",type:"success",read:true},{id:5,title:"Webhook fallido",message:"Error en webhook de activaci\xf3n",time:"Hace 3 horas",type:"error",read:true}];function e6(e){let{userRole:s,sidebarCollapsed:a,setSidebarCollapsed:n,onNavigate:c}=e;var d;const[o,x]=(0,r.useState)(false);const[m,h]=(0,r.useState)(false);const[u,j]=(0,r.useState)(false);const[p,v]=(0,r.useState)(e1);const[b,y]=(0,r.useState)(false);const{user:w,logout:C,isLoading:S}=(0,l.A)();const{toast:k}=(0,N.dj)();const T=p.filter(e=>!e.read).length;const D=e=>{v(s=>s.map(s=>s.id===e?{...s,read:true}:s))};const z=()=>{v(e=>e.map(e=>({...e,read:true})));k({title:"Notificaciones marcadas",description:"Todas las notificaciones han sido marcadas como le\xeddas"})};const P=async()=>{if(b)return;y(true);k({title:"Cerrando sesi\xf3n",description:"Cerrando sesi\xf3n de forma segura..."});try{await C();k({title:"Sesi\xf3n cerrada",description:"Has cerrado sesi\xf3n exitosamente"})}catch(e){k({title:"Error al cerrar sesi\xf3n",description:"Ocurri\xf3 un error, pero la sesi\xf3n local ha sido limpiada",variant:"destructive"})}finally{y(false)}};const M=()=>{if(c){c("settings")}k({title:"Configuraci\xf3n",description:"Navegando a configuraci\xf3n del perfil"})};const E=e=>{switch(e){case"success":return"✅";case"warning":return"⚠️";case"error":return"❌";default:return"ℹ️"}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 px-6 py-3 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>n(!a),className:"md:hidden",children:(0,t.jsx)(eq.A,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eW.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(eQ,{placeholder:"Buscar clientes, SIMs, transacciones...",className:"pl-10 w-80 bg-gray-50 border-gray-200 focus:bg-white",onKeyDown:e=>{if(e.key==="Enter"){k({title:"B\xfasqueda",description:"Buscando: ".concat(e.currentTarget.value)})}}})]})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"hidden lg:flex items-center space-x-4 text-sm",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Balance"}),(0,t.jsx)("p",{className:"font-semibold text-green-600",children:"$2,450"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"SIMs"}),(0,t.jsx)("p",{className:"font-semibold text-blue-600",children:"156"})]})]}),(0,t.jsx)(g,{variant:"ghost",size:"sm",title:"Ayuda",onClick:()=>h(true),children:(0,t.jsx)(eK.A,{className:"h-4 w-4"})}),(0,t.jsxs)(g,{variant:"ghost",size:"sm",className:"relative",title:"Notificaciones",onClick:()=>x(true),children:[(0,t.jsx)(eZ.A,{className:"h-4 w-4"}),T>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:T>9?"9+":T})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("div",{className:"hidden md:block text-right",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(w===null||w===void 0?void 0:w.name)||"Usuario"}),(0,t.jsx)(f,{className:(0,i.cn)("text-xs",e2[s]),children:e0[s]})]}),(0,t.jsxs)(ei,{children:[(0,t.jsx)(ec,{asChild:true,children:(0,t.jsx)(g,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:(0,t.jsxs)(eH,{className:"h-9 w-9",children:[(0,t.jsx)(eJ,{src:"/placeholder-user.jpg",alt:"Usuario"}),(0,t.jsx)(eX,{className:"bg-blue-100 text-blue-600",children:"JP"})]})})}),(0,t.jsxs)(ed,{className:"w-56",align:"end",forceMount:true,children:[(0,t.jsx)(ej,{className:"font-normal",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium leading-none",children:(w===null||w===void 0?void 0:w.name)||"Usuario"}),(0,t.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:(w===null||w===void 0?void 0:w.email)||"usuario@omv.com"}),(0,t.jsx)(f,{className:(0,i.cn)("text-xs w-fit mt-1",e2[s]),children:e0[s]})]})}),(0,t.jsx)(ep,{}),(0,t.jsxs)(ex,{onClick:()=>j(true),children:[(0,t.jsx)(A.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Mi Perfil"})]}),(0,t.jsxs)(ex,{onClick:M,children:[(0,t.jsx)(Q.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Configuraci\xf3n"})]}),(0,t.jsxs)(ex,{onClick:()=>h(true),children:[(0,t.jsx)(eK.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Ayuda"})]}),(0,t.jsx)(ep,{}),(0,t.jsxs)(ex,{className:"text-red-600",onClick:P,disabled:b||S,children:[(0,t.jsx)(eY.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:b?"Cerrando...":"Cerrar Sesi\xf3n"})]})]})]})]})]})]})}),(0,t.jsx)(eE,{open:o,onOpenChange:x,children:(0,t.jsxs)(eO,{className:"w-96",children:[(0,t.jsxs)(eV,{children:[(0,t.jsxs)(eG,{className:"flex items-center justify-between",children:["Notificaciones",T>0&&(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:z,children:"Marcar todas como le\xeddas"})]}),(0,t.jsxs)(eU,{children:["Tienes ",T," notificaciones sin leer"]})]}),(0,t.jsx)("div",{className:"mt-6 space-y-4 max-h-96 overflow-y-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:p.map(e=>(0,t.jsx)("div",{className:(0,i.cn)("p-4 rounded-lg border cursor-pointer transition-colors",e.read?"bg-gray-50 border-gray-200":"bg-blue-50 border-blue-200"),onClick:()=>D(e.id),children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("span",{className:"text-lg",children:E(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:e.time})]}),!e.read&&(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},e.id))})]})}),(0,t.jsx)(ew,{open:m,onOpenChange:h,children:(0,t.jsxs)(eT,{className:"max-w-2xl",children:[(0,t.jsxs)(eD,{children:[(0,t.jsx)(eP,{children:"Centro de Ayuda"}),(0,t.jsx)(eM,{children:"Encuentra respuestas a las preguntas m\xe1s frecuentes"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"\uD83D\uDE80 Primeros Pasos"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Aprende a usar el sistema BSS/CRM"})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"\uD83D\uDCF1 Gesti\xf3n de SIMs"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Activar, suspender y gestionar SIMs"})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"\uD83D\uDCB0 Sistema de Balance"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Recargas y gesti\xf3n de saldo"})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"\uD83D\uDCCA Reportes"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Generar y exportar reportes"})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Contacto de Soporte"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCE7 soporte@omv.com",(0,t.jsx)("br",{}),"\uD83D\uDCDE +52 55 1234 5678",(0,t.jsx)("br",{}),"\uD83D\uDCAC Chat en vivo disponible 24/7"]})]})]})]})}),(0,t.jsx)(ew,{open:u,onOpenChange:j,children:(0,t.jsxs)(eT,{children:[(0,t.jsxs)(eD,{children:[(0,t.jsx)(eP,{children:"Mi Perfil"}),(0,t.jsx)(eM,{children:"Informaci\xf3n de tu cuenta y configuraci\xf3n personal"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(eH,{className:"h-16 w-16",children:[(0,t.jsx)(eJ,{src:"/placeholder-user.jpg",alt:"Usuario"}),(0,t.jsx)(eX,{className:"bg-blue-100 text-blue-600 text-xl",children:(w===null||w===void 0?void 0:(d=w.name)===null||d===void 0?void 0:d.split(" ").map(e=>e[0]).join("").toUpperCase())||"U"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:(w===null||w===void 0?void 0:w.name)||"Usuario"}),(0,t.jsx)("p",{className:"text-gray-600",children:(w===null||w===void 0?void 0:w.email)||"usuario@omv.com"}),(0,t.jsx)(f,{className:(0,i.cn)("text-xs mt-1",e2[s]),children:e0[s]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"\xdaltimo acceso"}),(0,t.jsx)("p",{className:"font-medium",children:"Hoy, 14:30"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Sesiones activas"}),(0,t.jsx)("p",{className:"font-medium",children:"2 dispositivos"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Tickets creados"}),(0,t.jsx)("p",{className:"font-medium",children:"23"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Activaciones"}),(0,t.jsx)("p",{className:"font-medium",children:"156"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(g,{onClick:M,children:[(0,t.jsx)(Q.A,{className:"mr-2 h-4 w-4"}),"Configuraci\xf3n"]}),(0,t.jsx)(g,{variant:"outline",onClick:()=>j(false),children:"Cerrar"})]})]})]})})]})};function e5(e){let{title:s,value:a,change:r,changeType:l,icon:c}=e;return(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:s}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a}),(0,t.jsxs)("p",{className:(0,i.cn)("text-sm font-medium",l==="positive"&&"text-green-600",l==="negative"&&"text-red-600",l==="neutral"&&"text-gray-600"),children:[r," desde el mes pasado"]})]}),(0,t.jsx)("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(c,{className:"h-6 w-6 text-blue-600"})})]})})})}var e4=a(98192);function e3(e){let{className:s,...a}=e;return(0,t.jsx)(e4.bL,{"data-slot":"tabs",className:(0,i.cn)("flex flex-col gap-2",s),...a})}function e8(e){let{className:s,...a}=e;return(0,t.jsx)(e4.B8,{"data-slot":"tabs-list",className:(0,i.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...a})}function e7(e){let{className:s,...a}=e;return(0,t.jsx)(e4.l9,{"data-slot":"tabs-trigger",className:(0,i.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function e9(e){let{className:s,...a}=e;return(0,t.jsx)(e4.UC,{"data-slot":"tabs-content",className:(0,i.cn)("flex-1 outline-none",s),...a})};function se(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,i.cn)("w-full caption-bottom text-sm",s),...a})})}function ss(e){let{className:s,...a}=e;return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,i.cn)("[&_tr]:border-b",s),...a})}function sa(e){let{className:s,...a}=e;return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,i.cn)("[&_tr:last-child]:border-0",s),...a})}function st(e){let{className:s,...a}=e;return _jsx("tfoot",{"data-slot":"table-footer",className:cn("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",s),...a})}function sr(e){let{className:s,...a}=e;return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,i.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...a})}function sl(e){let{className:s,...a}=e;return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,i.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})}function si(e){let{className:s,...a}=e;return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,i.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})}function sn(e){let{className:s,...a}=e;return _jsx("caption",{"data-slot":"table-caption",className:cn("text-muted-foreground mt-4 text-sm",s),...a})}var sc=a(83540);var sd=a(8401);var so=a(94754);var sx=a(96025);var sm=a(52071);var sh=a(24021);var su=a(81519);var sj=a(90170);var sp=a(18357);var sg=a(54811);var sv=a(33109);var sf=a(79397);var sN=a(1243);const sb=[{day:"Lun",activations:45},{day:"Mar",activations:52},{day:"Mi\xe9",activations:38},{day:"Jue",activations:61},{day:"Vie",activations:55},{day:"S\xe1b",activations:42},{day:"Dom",activations:35}];const sy=[{name:"Almac\xe9n Central",value:1200,color:"#3b82f6"},{name:"Almac\xe9n Norte",value:800,color:"#10b981"},{name:"Almac\xe9n Sur",value:600,color:"#f59e0b"},{name:"Almac\xe9n Este",value:400,color:"#ef4444"}];const sw=[{id:"TXN001",user:"Carlos L\xf3pez",type:"Activaci\xf3n",amount:"$25.00",status:"Completado",time:"10:30 AM"},{id:"TXN002",user:"Mar\xeda Garc\xeda",type:"Recarga",amount:"$15.00",status:"Completado",time:"10:25 AM"},{id:"TXN003",user:"Juan P\xe9rez",type:"Activaci\xf3n",amount:"$30.00",status:"Pendiente",time:"10:20 AM"},{id:"TXN004",user:"Ana Rodr\xedguez",type:"Recarga",amount:"$20.00",status:"Fallido",time:"10:15 AM"},{id:"TXN005",user:"Luis Mart\xedn",type:"Activaci\xf3n",amount:"$25.00",status:"Completado",time:"10:10 AM"}];function sA(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Superadmin"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Resumen general del sistema OMV"})]}),(0,t.jsxs)(g,{children:[(0,t.jsx)(sv.A,{className:"mr-2 h-4 w-4"}),"Generar Reporte"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(e5,{title:"Total SIMs",value:"15,847",change:"+12%",changeType:"positive",icon:H.A}),(0,t.jsx)(e5,{title:"Usuarios Activos",value:"2,341",change:"+8%",changeType:"positive",icon:w.A}),(0,t.jsx)(e5,{title:"Transacciones Hoy",value:"1,234",change:"+23%",changeType:"positive",icon:sf.A}),(0,t.jsx)(e5,{title:"Ingresos Totales",value:"$45,231",change:"+15%",changeType:"positive",icon:W.A})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Activaciones por D\xeda (\xdaltimos 7 d\xedas)"})}),(0,t.jsx)(m,{children:(0,t.jsx)(sc.u,{width:"100%",height:300,children:(0,t.jsxs)(sd.E,{data:sb,children:[(0,t.jsx)(so.d,{strokeDasharray:"3 3"}),(0,t.jsx)(sx.W,{dataKey:"day"}),(0,t.jsx)(sm.h,{}),(0,t.jsx)(sh.m,{}),(0,t.jsx)(su.y,{dataKey:"activations",fill:"#3b82f6"})]})})})]}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Distribuci\xf3n de SIMs por Almac\xe9n"})}),(0,t.jsx)(m,{children:(0,t.jsx)(sc.u,{width:"100%",height:300,children:(0,t.jsxs)(sj.r,{children:[(0,t.jsx)(sp.F,{data:sy,cx:"50%",cy:"50%",labelLine:false,label:e=>{let{name:s,percent:a}=e;return"".concat(s," ").concat((a*100).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:sy.map((e,s)=>(0,t.jsx)(sg.f,{fill:e.color},"cell-".concat(s)))}),(0,t.jsx)(sh.m,{})]})})})]})]}),(0,t.jsxs)(e3,{defaultValue:"transactions",className:"space-y-4",children:[(0,t.jsxs)(e8,{children:[(0,t.jsx)(e7,{value:"transactions",children:"Transacciones Recientes"}),(0,t.jsx)(e7,{value:"webhooks",children:"Webhooks"}),(0,t.jsx)(e7,{value:"alerts",children:"Alertas"})]}),(0,t.jsx)(e9,{value:"transactions",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Transacciones Recientes"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"ID"}),(0,t.jsx)(sl,{children:"Usuario"}),(0,t.jsx)(sl,{children:"Tipo"}),(0,t.jsx)(sl,{children:"Monto"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Hora"})]})}),(0,t.jsx)(sa,{children:sw.map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.id}),(0,t.jsx)(si,{children:e.user}),(0,t.jsx)(si,{children:e.type}),(0,t.jsx)(si,{children:e.amount}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:e.status==="Completado"?"default":e.status==="Pendiente"?"secondary":"destructive",children:e.status})}),(0,t.jsx)(si,{children:e.time})]},e.id))})]})})]})}),(0,t.jsx)(e9,{value:"webhooks",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Estado de Webhooks"})}),(0,t.jsx)(m,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(sN.A,{className:"h-5 w-5 text-yellow-500"}),(0,t.jsx)("span",{children:"3 webhooks fallidos en las \xfaltimas 24 horas"})]})})]})}),(0,t.jsx)(e9,{value:"alerts",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Alertas del Sistema"})}),(0,t.jsx)(m,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-yellow-50 rounded",children:[(0,t.jsx)(sN.A,{className:"h-4 w-4 text-yellow-500"}),(0,t.jsx)("span",{className:"text-sm",children:"Stock bajo en Almac\xe9n Norte (menos de 100 SIMs)"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-red-50 rounded",children:[(0,t.jsx)(sN.A,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm",children:"Fallo en webhook de activaci\xf3n - requiere atenci\xf3n"})]})]})})]})})]})]})}var sC=a(94870);const sS=[{month:"Ene",recargas:120,activaciones:85},{month:"Feb",recargas:135,activaciones:92},{month:"Mar",recargas:148,activaciones:78},{month:"Abr",recargas:162,activaciones:105},{month:"May",recargas:155,activaciones:98},{month:"Jun",recargas:178,activaciones:112}];const sk=[{name:"Pedro S\xe1nchez",role:"Operador",lastActivity:"Hace 2 min",transactions:15},{name:"Laura D\xedaz",role:"Vendedor",lastActivity:"Hace 5 min",transactions:8},{name:"Miguel Torres",role:"Operador",lastActivity:"Hace 12 min",transactions:23},{name:"Carmen Ruiz",role:"Vendedor",lastActivity:"Hace 18 min",transactions:12}];function sT(e){let{role:s}=e;const a=s==="gerente";return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Dashboard ",a?"Gerente":"Administrador"]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Gesti\xf3n de operaciones y subordinados"})]}),(0,t.jsxs)(g,{children:[(0,t.jsx)(sC.A,{className:"mr-2 h-4 w-4"}),"Transferir Balance"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(e5,{title:"SIMs en Circulaci\xf3n",value:"3,247",change:"+5%",changeType:"positive",icon:H.A}),(0,t.jsx)(e5,{title:"Balance Disponible",value:"$12,450",change:"+8%",changeType:"positive",icon:X.A}),(0,t.jsx)(e5,{title:"Ingresos Mensuales",value:"$8,231",change:"+12%",changeType:"positive",icon:sv.A}),(0,t.jsx)(e5,{title:"Subordinados Activos",value:"24",change:"+2",changeType:"positive",icon:w.A})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Recargas vs Activaciones"})}),(0,t.jsx)(m,{children:(0,t.jsx)(sc.u,{width:"100%",height:300,children:(0,t.jsxs)(sd.E,{data:sS,children:[(0,t.jsx)(so.d,{strokeDasharray:"3 3"}),(0,t.jsx)(sx.W,{dataKey:"month"}),(0,t.jsx)(sm.h,{}),(0,t.jsx)(sh.m,{}),(0,t.jsx)(su.y,{dataKey:"recargas",fill:"#3b82f6",name:"Recargas"}),(0,t.jsx)(su.y,{dataKey:"activaciones",fill:"#10b981",name:"Activaciones"})]})})})]}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Actividad de Subordinados"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"Nombre"}),(0,t.jsx)(sl,{children:"Rol"}),(0,t.jsx)(sl,{children:"\xdaltima Actividad"}),(0,t.jsx)(sl,{children:"Transacciones"})]})}),(0,t.jsx)(sa,{children:sk.map((e,s)=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.name}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"outline",children:e.role})}),(0,t.jsx)(si,{className:"text-sm text-gray-600",children:e.lastActivity}),(0,t.jsx)(si,{children:e.transactions})]},s))})]})})]})]}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Vista de Almac\xe9n - SIMs Disponibles"})}),(0,t.jsx)(m,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-green-600",children:"Disponibles"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:"1,247"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"SIMs sin asignar"})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-600",children:"Asignadas"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:"2,000"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"SIMs en uso"})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-yellow-600",children:"Reservadas"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:"156"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"SIMs reservadas"})]})]})})]})]})}var sD=a(84616);const sz=[{sim:"8934071234567890123",msisdn:"+52 55 1234 5678",status:"Activa",plan:"Plan B\xe1sico 500MB"},{sim:"8934071234567890124",msisdn:"+52 55 1234 5679",status:"Activa",plan:"Plan Premium 2GB"},{sim:"8934071234567890125",msisdn:"+52 55 1234 5680",status:"Suspendida",plan:"Plan B\xe1sico 500MB"},{sim:"8934071234567890126",msisdn:"+52 55 1234 5681",status:"Activa",plan:"Plan Empresarial 5GB"}];const sP=[{id:"TXN101",type:"Activaci\xf3n",customer:"Juan P\xe9rez",amount:"$25.00",date:"2024-01-15"},{id:"TXN102",type:"Recarga",customer:"Mar\xeda L\xf3pez",amount:"$15.00",date:"2024-01-15"},{id:"TXN103",type:"Activaci\xf3n",customer:"Carlos Garc\xeda",amount:"$30.00",date:"2024-01-14"},{id:"TXN104",type:"Recarga",customer:"Ana Mart\xedn",amount:"$20.00",date:"2024-01-14"},{id:"TXN105",type:"Activaci\xf3n",customer:"Luis Rodr\xedguez",amount:"$25.00",date:"2024-01-13"}];function sM(e){let{role:s}=e;const a={operator:"Operador",subdistributor:"Subdistribuidor",vendor:"Vendedor"};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Dashboard ",a[s]]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Panel personal de operaciones"})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(g,{children:[(0,t.jsx)(sD.A,{className:"mr-2 h-4 w-4"}),"Activar L\xednea"]}),(0,t.jsxs)(g,{variant:"outline",children:[(0,t.jsx)(B.A,{className:"mr-2 h-4 w-4"}),"Recargar"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(e5,{title:"SIMs en mi Almac\xe9n",value:"156",change:"-3",changeType:"negative",icon:H.A}),(0,t.jsx)(e5,{title:"Balance Actual",value:"$2,450",change:"+150",changeType:"positive",icon:X.A}),(0,t.jsx)(e5,{title:"L\xedneas Asignadas",value:"89",change:"+5",changeType:"positive",icon:$.A}),(0,t.jsx)(e5,{title:"Tickets Abiertos",value:"3",change:"+1",changeType:"negative",icon:K.A})]}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Acciones R\xe1pidas"})}),(0,t.jsx)(m,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(g,{className:"h-20 flex flex-col items-center justify-center",children:[(0,t.jsx)(sD.A,{className:"h-6 w-6 mb-2"}),"Activar L\xednea"]}),(0,t.jsxs)(g,{variant:"outline",className:"h-20 flex flex-col items-center justify-center bg-transparent",children:[(0,t.jsx)(B.A,{className:"h-6 w-6 mb-2"}),"Realizar Recarga"]}),(0,t.jsxs)(g,{variant:"outline",className:"h-20 flex flex-col items-center justify-center bg-transparent",children:[(0,t.jsx)(K.A,{className:"h-6 w-6 mb-2"}),"Crear Ticket"]})]})})]}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"L\xedneas Asignadas"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"SIM"}),(0,t.jsx)(sl,{children:"MSISDN"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Plan"})]})}),(0,t.jsx)(sa,{children:sz.map((e,s)=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-mono text-sm",children:e.sim}),(0,t.jsx)(si,{children:e.msisdn}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:e.status==="Activa"?"default":"destructive",children:e.status})}),(0,t.jsx)(si,{children:e.plan})]},s))})]})})]}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"\xdaltimas 5 Transacciones"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"ID"}),(0,t.jsx)(sl,{children:"Tipo"}),(0,t.jsx)(sl,{children:"Cliente"}),(0,t.jsx)(sl,{children:"Monto"}),(0,t.jsx)(sl,{children:"Fecha"})]})}),(0,t.jsx)(sa,{children:sP.map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.id}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"outline",children:e.type})}),(0,t.jsx)(si,{children:e.customer}),(0,t.jsx)(si,{children:e.amount}),(0,t.jsx)(si,{children:e.date})]},e.id))})]})})]})]})}var sE=a(40968);function sR(e){let{className:s,...a}=e;return(0,t.jsx)(sE.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...a})}var sI=a(96105);var sF=a(66474);var sL=a(5196);var s_=a(47863);function sO(e){let{...s}=e;return(0,t.jsx)(sI.bL,{"data-slot":"select",...s})}function sV(e){let{...s}=e;return _jsx(SelectPrimitive.Group,{"data-slot":"select-group",...s})}function sB(e){let{...s}=e;return(0,t.jsx)(sI.WT,{"data-slot":"select-value",...s})}function sG(e){let{className:s,size:a="default",children:r,...l}=e;return(0,t.jsxs)(sI.l9,{"data-slot":"select-trigger","data-size":a,className:(0,i.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...l,children:[r,(0,t.jsx)(sI.In,{asChild:true,children:(0,t.jsx)(sF.A,{className:"size-4 opacity-50"})})]})}function sU(e){let{className:s,children:a,position:r="popper",...l}=e;return(0,t.jsx)(sI.ZL,{children:(0,t.jsxs)(sI.UC,{"data-slot":"select-content",className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...l,children:[(0,t.jsx)(sX,{}),(0,t.jsx)(sI.LM,{className:(0,i.cn)("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,t.jsx)(sq,{})]})})}function s$(e){let{className:s,...a}=e;return _jsx(SelectPrimitive.Label,{"data-slot":"select-label",className:cn("text-muted-foreground px-2 py-1.5 text-xs",s),...a})}function sH(e){let{className:s,children:a,...r}=e;return(0,t.jsxs)(sI.q7,{"data-slot":"select-item",className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(sI.VF,{children:(0,t.jsx)(sL.A,{className:"size-4"})})}),(0,t.jsx)(sI.p4,{children:a})]})}function sJ(e){let{className:s,...a}=e;return _jsx(SelectPrimitive.Separator,{"data-slot":"select-separator",className:cn("bg-border pointer-events-none -mx-1 my-1 h-px",s),...a})}function sX(e){let{className:s,...a}=e;return(0,t.jsx)(sI.PP,{"data-slot":"select-scroll-up-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(s_.A,{className:"size-4"})})}function sq(e){let{className:s,...a}=e;return(0,t.jsx)(sI.wn,{"data-slot":"select-scroll-down-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(sF.A,{className:"size-4"})})}var sW=a(90184);const sK=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(sW.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:s,children:(0,t.jsx)(sW.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});sK.displayName=sW.bL.displayName;var sZ=a(4459);const sY=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(sZ.bL,{ref:s,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,t.jsx)(sZ.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(sL.A,{className:"h-4 w-4"})})})});sY.displayName=sZ.bL.displayName;const sQ=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r})});sQ.displayName="Textarea";var s0=a(37267);function s2(e){let{...s}=e;return(0,t.jsx)(s0.bL,{"data-slot":"alert-dialog",...s})}function s1(e){let{...s}=e;return(0,t.jsx)(s0.l9,{"data-slot":"alert-dialog-trigger",...s})}function s6(e){let{...s}=e;return(0,t.jsx)(s0.ZL,{"data-slot":"alert-dialog-portal",...s})}function s5(e){let{className:s,...a}=e;return(0,t.jsx)(s0.hJ,{"data-slot":"alert-dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...a})}function s4(e){let{className:s,...a}=e;return(0,t.jsxs)(s6,{children:[(0,t.jsx)(s5,{}),(0,t.jsx)(s0.UC,{"data-slot":"alert-dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...a})]})}function s3(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",s),...a})}function s8(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...a})}function s7(e){let{className:s,...a}=e;return(0,t.jsx)(s0.hE,{"data-slot":"alert-dialog-title",className:(0,i.cn)("text-lg font-semibold",s),...a})}function s9(e){let{className:s,...a}=e;return(0,t.jsx)(s0.VY,{"data-slot":"alert-dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",s),...a})}function ae(e){let{className:s,...a}=e;return(0,t.jsx)(s0.rc,{className:(0,i.cn)(p(),s),...a})}function as(e){let{className:s,...a}=e;return(0,t.jsx)(s0.ZD,{className:(0,i.cn)(p({variant:"outline"}),s),...a})}var aa=a(12318);var at=a(40646);var ar=a(69803);var al=a(9446);var ai=a(92657);var an=a(13717);var ac=a(62525);var ad=a(28883);var ao=a(69074);var ax=a(14186);const am=[{id:1,name:"Juan P\xe9rez",email:"juan@omv.com",phone:"+52 55 1234 5678",role:"admin",status:"active",lastLogin:"2024-01-15 14:30",createdAt:"2023-06-15",permissions:["users.read","users.write","sims.read","sims.write","customers.read","customers.write"],activations:156,tickets:23,department:"Operaciones",supervisor:"Carlos Rodr\xedguez",twoFactorEnabled:true,lastPasswordChange:"2023-12-01"},{id:2,name:"Mar\xeda Garc\xeda",email:"maria@omv.com",phone:"+52 55 2345 6789",role:"operator",status:"active",lastLogin:"2024-01-15 12:15",createdAt:"2023-08-20",permissions:["sims.read","sims.write","customers.read","activations.read","activations.write"],activations:89,tickets:45,department:"Operaciones",supervisor:"Juan P\xe9rez",twoFactorEnabled:false,lastPasswordChange:"2023-11-15"},{id:3,name:"Carlos L\xf3pez",email:"carlos@omv.com",phone:"+52 55 3456 7890",role:"vendor",status:"inactive",lastLogin:"2024-01-10 09:45",createdAt:"2023-09-10",permissions:["customers.read","customers.write","activations.read","activations.write"],activations:234,tickets:12,department:"Ventas",supervisor:"Ana Mart\xednez",twoFactorEnabled:false,lastPasswordChange:"2023-10-20"},{id:4,name:"Ana Mart\xednez",email:"ana@omv.com",phone:"+52 55 4567 8901",role:"gerente",status:"active",lastLogin:"2024-01-15 16:20",createdAt:"2023-05-05",permissions:["users.read","reports.read","balance.read","customers.read","customers.write"],activations:67,tickets:8,department:"Ventas",supervisor:"Juan P\xe9rez",twoFactorEnabled:true,lastPasswordChange:"2023-12-10"}];const ah={superadmin:"Super Administrador",admin:"Administrador",gerente:"Gerente",operator:"Operador",subdistributor:"Subdistribuidor",vendor:"Vendedor"};const au={superadmin:b.A,admin:y.A,gerente:w.A,operator:U.A,subdistributor:C.A,vendor:S.A};const aj={superadmin:"bg-red-100 text-red-800 border-red-200",admin:"bg-blue-100 text-blue-800 border-blue-200",gerente:"bg-green-100 text-green-800 border-green-200",operator:"bg-yellow-100 text-yellow-800 border-yellow-200",subdistributor:"bg-purple-100 text-purple-800 border-purple-200",vendor:"bg-gray-100 text-gray-800 border-gray-200"};const ap={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",suspended:"bg-red-100 text-red-800"};const ag=[{id:"users.read",name:"Ver usuarios",category:"Usuarios"},{id:"users.write",name:"Crear/editar usuarios",category:"Usuarios"},{id:"users.delete",name:"Eliminar usuarios",category:"Usuarios"},{id:"sims.read",name:"Ver SIMs",category:"SIMs"},{id:"sims.write",name:"Gestionar SIMs",category:"SIMs"},{id:"sims.delete",name:"Eliminar SIMs",category:"SIMs"},{id:"customers.read",name:"Ver clientes",category:"Clientes"},{id:"customers.write",name:"Gestionar clientes",category:"Clientes"},{id:"customers.delete",name:"Eliminar clientes",category:"Clientes"},{id:"tickets.read",name:"Ver tickets",category:"Soporte"},{id:"tickets.write",name:"Gestionar tickets",category:"Soporte"},{id:"tickets.assign",name:"Asignar tickets",category:"Soporte"},{id:"balance.read",name:"Ver balance",category:"Financiero"},{id:"balance.write",name:"Gestionar balance",category:"Financiero"},{id:"balance.transfer",name:"Transferir balance",category:"Financiero"},{id:"reports.read",name:"Ver reportes",category:"Reportes"},{id:"reports.generate",name:"Generar reportes",category:"Reportes"},{id:"reports.export",name:"Exportar reportes",category:"Reportes"},{id:"settings.read",name:"Ver configuraci\xf3n",category:"Sistema"},{id:"settings.write",name:"Modificar configuraci\xf3n",category:"Sistema"},{id:"webhooks.read",name:"Ver webhooks",category:"Sistema"},{id:"webhooks.write",name:"Gestionar webhooks",category:"Sistema"},{id:"warehouse.read",name:"Ver almac\xe9n",category:"Inventario"},{id:"warehouse.write",name:"Gestionar almac\xe9n",category:"Inventario"},{id:"billing.read",name:"Ver facturaci\xf3n",category:"Financiero"},{id:"billing.write",name:"Gestionar facturaci\xf3n",category:"Financiero"},{id:"plans.read",name:"Ver planes",category:"Productos"},{id:"plans.write",name:"Gestionar planes",category:"Productos"},{id:"activations.read",name:"Ver activaciones",category:"Operaciones"},{id:"activations.write",name:"Realizar activaciones",category:"Operaciones"},{id:"recharges.read",name:"Ver recargas",category:"Operaciones"},{id:"recharges.write",name:"Realizar recargas",category:"Operaciones"}];const av={superadmin:ag.map(e=>e.id),admin:["users.read","users.write","sims.read","sims.write","customers.read","customers.write","tickets.read","tickets.write","tickets.assign","balance.read","balance.write","balance.transfer","reports.read","reports.generate","warehouse.read","warehouse.write","billing.read","plans.read","plans.write","activations.read","activations.write","recharges.read","recharges.write"],gerente:["users.read","sims.read","sims.write","customers.read","customers.write","tickets.read","tickets.write","balance.read","balance.transfer","reports.read","reports.generate","warehouse.read","plans.read","activations.read","activations.write","recharges.read","recharges.write"],operator:["sims.read","sims.write","customers.read","customers.write","tickets.read","tickets.write","balance.read","activations.read","activations.write","recharges.read","recharges.write"],subdistributor:["sims.read","customers.read","customers.write","tickets.read","tickets.write","balance.read","activations.read","activations.write","recharges.read","recharges.write"],vendor:["customers.read","customers.write","tickets.read","tickets.write","balance.read","activations.read","activations.write","recharges.read","recharges.write"]};function af(e){let{userRole:s}=e;const[a,l]=(0,r.useState)(am);const[i,o]=(0,r.useState)("");const[x,h]=(0,r.useState)("all");const[u,j]=(0,r.useState)("all");const[p,v]=(0,r.useState)(false);const[b,A]=(0,r.useState)(false);const[C,S]=(0,r.useState)(false);const[k,T]=(0,r.useState)(false);const[D,z]=(0,r.useState)(false);const[P,M]=(0,r.useState)(null);const[E,R]=(0,r.useState)({name:"",email:"",phone:"",role:"operator",department:"",supervisor:"",permissions:[],notes:"",twoFactorEnabled:false});const{toast:I}=(0,N.dj)();const{canPerformAction:F,canManageUser:L}=_();const O=F("users.write")||s==="superadmin";const V=s==="superadmin";const B=a.filter(e=>{const s=e.name.toLowerCase().includes(i.toLowerCase())||e.email.toLowerCase().includes(i.toLowerCase());const a=x==="all"||e.role===x;const t=u==="all"||e.status===u;return s&&a&&t});const G=()=>{if(!E.name||!E.email||!E.department){I({title:"Error",description:"Por favor completa todos los campos requeridos",variant:"destructive"});return}if(a.some(e=>e.email===E.email)){I({title:"Error",description:"Ya existe un usuario con este email",variant:"destructive"});return}const e={id:Math.max(...a.map(e=>e.id))+1,...E,status:"active",lastLogin:"Nunca",createdAt:new Date().toISOString().split("T")[0],activations:0,tickets:0,permissions:E.permissions.length>0?E.permissions:av[E.role],lastPasswordChange:new Date().toISOString().split("T")[0]};l(s=>[...s,e]);R({name:"",email:"",phone:"",role:"operator",department:"",supervisor:"",permissions:[],notes:"",twoFactorEnabled:false});v(false);I({title:"✅ Usuario creado exitosamente",description:"".concat(e.name," ha sido agregado al sistema con rol de ").concat(ah[e.role])})};const $=e=>{M(e);A(true)};const H=e=>{M(e);S(true)};const J=()=>{if(!P)return;l(e=>e.map(e=>e.id===P.id?P:e));A(false);I({title:"✅ Usuario actualizado",description:"Los datos de ".concat(P.name," han sido actualizados exitosamente")})};const X=e=>{M(e);T(true)};const q=e=>{if(!P)return;const s={...P,role:e,permissions:av[e]};l(e=>e.map(e=>e.id===P.id?s:e));M(s);T(false);I({title:"\uD83D\uDD04 Rol actualizado",description:"".concat(P.name," ahora tiene el rol de ").concat(ah[e])})};const W=e=>{M(e);z(true)};const K=e=>{if(!P)return;const s={...P,permissions:e};l(e=>e.map(e=>e.id===P.id?s:e));M(s);z(false);I({title:"\uD83D\uDD11 Permisos actualizados",description:"Los permisos de ".concat(P.name," han sido modificados")})};const Z=e=>{l(s=>s.map(s=>{if(s.id===e){const e=s.status==="active"?"inactive":"active";I({title:"\uD83D\uDC64 Usuario ".concat(e==="active"?"activado":"desactivado"),description:"".concat(s.name," ha sido ").concat(e==="active"?"activado":"desactivado"," exitosamente")});return{...s,status:e}}return s}))};const Y=e=>{l(s=>s.map(s=>{if(s.id===e){I({title:"⚠️ Usuario suspendido",description:"".concat(s.name," ha sido suspendido temporalmente")});return{...s,status:"suspended"}}return s}))};const Q=e=>{const s=a.find(s=>s.id===e);if(!s)return;l(s=>s.filter(s=>s.id!==e));I({title:"\uD83D\uDDD1️ Usuario eliminado",description:"".concat(s.name," ha sido eliminado permanentemente del sistema")})};const ee=e=>{I({title:"\uD83D\uDCE7 Invitaci\xf3n enviada",description:"Se ha enviado una invitaci\xf3n de acceso a ".concat(e.email)})};const es=e=>{I({title:"\uD83D\uDD10 Contrase\xf1a restablecida",description:"Se ha enviado un enlace de restablecimiento a ".concat(e.email)})};const ea=e=>{l(s=>s.map(s=>{if(s.id===e){const e=!s.twoFactorEnabled;I({title:"\uD83D\uDD10 2FA ".concat(e?"habilitado":"deshabilitado"),description:"Autenticaci\xf3n de dos factores ".concat(e?"activada":"desactivada"," para ").concat(s.name)});return{...s,twoFactorEnabled:e}}return s}))};const et=()=>{const e={};ag.forEach(s=>{if(!e[s.category]){e[s.category]=[]}e[s.category].push(s)});return e};if(!O){return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(y.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Acceso Restringido"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No tienes permisos para gestionar usuarios."})]})})}return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,t.jsx)(w.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesti\xf3n de Usuarios"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Administrar usuarios, roles y permisos del sistema"})]})]}),(0,t.jsxs)(ew,{open:p,onOpenChange:v,children:[(0,t.jsx)(eA,{asChild:true,children:(0,t.jsxs)(g,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(aa.A,{className:"mr-2 h-5 w-5"}),"Crear Usuario"]})}),(0,t.jsxs)(eT,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(eD,{className:"pb-6",children:(0,t.jsxs)(eP,{className:"text-2xl font-bold flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,t.jsx)(aa.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Crear Nuevo Usuario"}),(0,t.jsx)("p",{className:"text-sm font-normal text-gray-600 mt-1",children:"Configurar usuario con rol y permisos espec\xedficos"})]})]})}),(0,t.jsxs)(e3,{defaultValue:"basic",className:"space-y-6",children:[(0,t.jsxs)(e8,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(e7,{value:"basic",children:"Informaci\xf3n B\xe1sica"}),(0,t.jsx)(e7,{value:"role",children:"Rol y Permisos"}),(0,t.jsx)(e7,{value:"security",children:"Seguridad"})]}),(0,t.jsxs)(e9,{value:"basic",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"name",className:"text-base font-semibold",children:"Nombre Completo *"}),(0,t.jsx)(eQ,{id:"name",value:E.name,onChange:e=>R(s=>({...s,name:e.target.value})),placeholder:"Juan P\xe9rez Gonz\xe1lez",className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"email",className:"text-base font-semibold",children:"Email *"}),(0,t.jsx)(eQ,{id:"email",type:"email",value:E.email,onChange:e=>R(s=>({...s,email:e.target.value})),placeholder:"juan@omv.com",className:"h-12"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"phone",className:"text-base font-semibold",children:"Tel\xe9fono"}),(0,t.jsx)(eQ,{id:"phone",value:E.phone,onChange:e=>R(s=>({...s,phone:e.target.value})),placeholder:"+52 55 1234 5678",className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"department",className:"text-base font-semibold",children:"Departamento *"}),(0,t.jsxs)(sO,{value:E.department,onValueChange:e=>R(s=>({...s,department:e})),children:[(0,t.jsx)(sG,{className:"h-12",children:(0,t.jsx)(sB,{placeholder:"Seleccionar departamento"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"Administraci\xf3n",children:"Administraci\xf3n"}),(0,t.jsx)(sH,{value:"Operaciones",children:"Operaciones"}),(0,t.jsx)(sH,{value:"Ventas",children:"Ventas"}),(0,t.jsx)(sH,{value:"Soporte",children:"Soporte"}),(0,t.jsx)(sH,{value:"Distribuci\xf3n",children:"Distribuci\xf3n"}),(0,t.jsx)(sH,{value:"Finanzas",children:"Finanzas"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"supervisor",className:"text-base font-semibold",children:"Supervisor"}),(0,t.jsxs)(sO,{value:E.supervisor,onValueChange:e=>R(s=>({...s,supervisor:e})),children:[(0,t.jsx)(sG,{className:"h-12",children:(0,t.jsx)(sB,{placeholder:"Seleccionar supervisor"})}),(0,t.jsx)(sU,{children:a.filter(e=>["superadmin","admin","gerente"].includes(e.role)).map(e=>(0,t.jsx)(sH,{value:e.name,children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f,{className:aj[e.role],children:ah[e.role]}),(0,t.jsx)("span",{children:e.name})]})},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"notes",className:"text-base font-semibold",children:"Notas"}),(0,t.jsx)(sQ,{id:"notes",value:E.notes,onChange:e=>R(s=>({...s,notes:e.target.value})),placeholder:"Informaci\xf3n adicional sobre el usuario...",className:"min-h-[100px]"})]})]}),(0,t.jsxs)(e9,{value:"role",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{className:"text-base font-semibold",children:"Seleccionar Rol"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(ah).filter(e=>V||e!=="superadmin").map(e=>{const s=au[e];const a=E.role===e;return(0,t.jsxs)("div",{className:"relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 ".concat(a?"border-blue-500 bg-blue-50 shadow-lg scale-105":"border-gray-200 hover:border-blue-300 hover:shadow-md"),onClick:()=>{R(s=>({...s,role:e,permissions:av[e]}))},children:[a&&(0,t.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(at.A,{className:"h-4 w-4 text-white"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br ".concat(e==="superadmin"?"from-red-500 to-red-600":e==="admin"?"from-blue-500 to-blue-600":e==="gerente"?"from-green-500 to-green-600":e==="operator"?"from-yellow-500 to-yellow-600":e==="subdistributor"?"from-purple-500 to-purple-600":"from-gray-500 to-gray-600"," rounded-lg flex items-center justify-center shadow-md"),children:(0,t.jsx)(s,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:ah[e]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[av[e].length," permisos"]})]})]})]},e)})})]}),E.role&&(0,t.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(ar.A,{className:"h-4 w-4 text-white"})}),(0,t.jsxs)("h4",{className:"font-semibold text-blue-800",children:["Permisos del Rol: ",ah[E.role]]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[av[E.role].slice(0,9).map((e,s)=>{var a;return(0,t.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:((a=ag.find(s=>s.id===e))===null||a===void 0?void 0:a.name)||e},s)}),av[E.role].length>9&&(0,t.jsxs)("span",{className:"text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded font-semibold",children:["+",av[E.role].length-9," m\xe1s"]})]})]})]}),(0,t.jsx)(e9,{value:"security",className:"space-y-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"font-semibold",children:"Autenticaci\xf3n de Dos Factores"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Requerir verificaci\xf3n adicional al iniciar sesi\xf3n"})]}),(0,t.jsx)(sK,{checked:E.twoFactorEnabled,onCheckedChange:e=>R(s=>({...s,twoFactorEnabled:e}))})]}),(0,t.jsx)("div",{className:"p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(sN.A,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-yellow-800",children:"\uD83D\uDD12 Configuraci\xf3n de Seguridad"}),(0,t.jsxs)("ul",{className:"text-sm text-yellow-700 mt-1 space-y-1",children:[(0,t.jsx)("li",{children:"• El usuario recibir\xe1 un email para configurar su contrase\xf1a"}),(0,t.jsx)("li",{children:"• La autenticaci\xf3n 2FA se puede habilitar despu\xe9s del primer login"}),(0,t.jsx)("li",{children:"• Las sesiones expiran autom\xe1ticamente despu\xe9s de 8 horas"})]})]})]})})]})})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>v(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:G,size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(aa.A,{className:"mr-2 h-5 w-5"}),"Crear Usuario"]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:a.length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(w.A,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Usuarios Activos"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-green-600",children:a.filter(e=>e.status==="active").length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(U.A,{className:"h-6 w-6 text-green-600"})})]})})}),(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Usuarios Inactivos"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-600",children:a.filter(e=>e.status==="inactive").length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(al.A,{className:"h-6 w-6 text-gray-600"})})]})})}),(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Administradores"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:a.filter(e=>["superadmin","admin"].includes(e.role)).length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(y.A,{className:"h-6 w-6 text-purple-600"})})]})})})]}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eW.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(eQ,{placeholder:"Buscar usuarios por nombre o email...",value:i,onChange:e=>o(e.target.value),className:"pl-12 h-12"})]})}),(0,t.jsxs)(sO,{value:x,onValueChange:h,children:[(0,t.jsx)(sG,{className:"w-48 h-12",children:(0,t.jsx)(sB,{placeholder:"Filtrar por rol"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"all",children:"Todos los roles"}),(0,t.jsx)(sH,{value:"superadmin",children:"Super Administrador"}),(0,t.jsx)(sH,{value:"admin",children:"Administrador"}),(0,t.jsx)(sH,{value:"gerente",children:"Gerente"}),(0,t.jsx)(sH,{value:"operator",children:"Operador"}),(0,t.jsx)(sH,{value:"subdistributor",children:"Subdistribuidor"}),(0,t.jsx)(sH,{value:"vendor",children:"Vendedor"})]})]}),(0,t.jsxs)(sO,{value:u,onValueChange:j,children:[(0,t.jsx)(sG,{className:"w-48 h-12",children:(0,t.jsx)(sB,{placeholder:"Filtrar por estado"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"all",children:"Todos los estados"}),(0,t.jsx)(sH,{value:"active",children:"Activo"}),(0,t.jsx)(sH,{value:"inactive",children:"Inactivo"}),(0,t.jsx)(sH,{value:"suspended",children:"Suspendido"})]})]})]})})}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{children:["Lista de Usuarios (",B.length,")"]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(f,{variant:"outline",className:"text-sm",children:[a.filter(e=>e.status==="active").length," activos"]}),(0,t.jsxs)(f,{variant:"outline",className:"text-sm",children:[a.filter(e=>e.twoFactorEnabled).length," con 2FA"]})]})]})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"Usuario"}),(0,t.jsx)(sl,{children:"Rol"}),(0,t.jsx)(sl,{children:"Departamento"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"2FA"}),(0,t.jsx)(sl,{children:"\xdaltimo Acceso"}),(0,t.jsx)(sl,{children:"Activaciones"}),(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:B.map(e=>{const s=au[e.role];return(0,t.jsxs)(sr,{className:"hover:bg-gray-50",children:[(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br ".concat(e.role==="superadmin"?"from-red-500 to-red-600":e.role==="admin"?"from-blue-500 to-blue-600":e.role==="gerente"?"from-green-500 to-green-600":e.role==="operator"?"from-yellow-500 to-yellow-600":e.role==="subdistributor"?"from-purple-500 to-purple-600":"from-gray-500 to-gray-600"," rounded-lg flex items-center justify-center shadow-sm"),children:(0,t.jsx)(s,{className:"h-4 w-4 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:e.email})]})]})}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{className:aj[e.role],children:ah[e.role]})}),(0,t.jsx)(si,{children:e.department}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{className:ap[e.status],children:e.status==="active"?"Activo":e.status==="inactive"?"Inactivo":"Suspendido"})}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.twoFactorEnabled?"bg-green-500":"bg-gray-300")}),(0,t.jsx)("span",{className:"text-sm",children:e.twoFactorEnabled?"Habilitado":"Deshabilitado"})]})}),(0,t.jsx)(si,{className:"text-sm",children:e.lastLogin}),(0,t.jsx)(si,{className:"text-center font-semibold",children:e.activations}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>H(e),title:"Ver detalles",children:(0,t.jsx)(ai.A,{className:"h-4 w-4"})}),(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>$(e),title:"Editar usuario",children:(0,t.jsx)(an.A,{className:"h-4 w-4"})}),(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>X(e),title:"Cambiar rol",children:(0,t.jsx)(y.A,{className:"h-4 w-4"})}),(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>W(e),title:"Gestionar permisos",children:(0,t.jsx)(ar.A,{className:"h-4 w-4"})}),L(e.role)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>Z(e.id),className:e.status==="active"?"text-orange-600":"text-green-600",title:e.status==="active"?"Desactivar":"Activar",children:e.status==="active"?(0,t.jsx)(al.A,{className:"h-4 w-4"}):(0,t.jsx)(U.A,{className:"h-4 w-4"})}),(0,t.jsxs)(s2,{children:[(0,t.jsx)(s1,{asChild:true,children:(0,t.jsx)(g,{variant:"ghost",size:"sm",className:"text-red-600",title:"Eliminar usuario",children:(0,t.jsx)(ac.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(s4,{children:[(0,t.jsxs)(s3,{children:[(0,t.jsx)(s7,{children:"\xbfEliminar usuario?"}),(0,t.jsxs)(s9,{children:["Esta acci\xf3n no se puede deshacer. Se eliminar\xe1 permanentemente a ",e.name," del sistema."]})]}),(0,t.jsxs)(s8,{children:[(0,t.jsx)(as,{children:"Cancelar"}),(0,t.jsx)(ae,{onClick:()=>Q(e.id),className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})]})]})]})})]},e.id)})})]})})]}),(0,t.jsx)(ew,{open:C,onOpenChange:S,children:(0,t.jsxs)(eT,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(eD,{children:[(0,t.jsxs)(eP,{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(ai.A,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{children:"Detalles del Usuario"})]}),(0,t.jsx)(eM,{children:"Informaci\xf3n completa y actividad del usuario seleccionado"})]}),P&&(0,t.jsxs)(e3,{defaultValue:"info",className:"space-y-4",children:[(0,t.jsxs)(e8,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(e7,{value:"info",children:"Informaci\xf3n"}),(0,t.jsx)(e7,{value:"activity",children:"Actividad"}),(0,t.jsx)(e7,{value:"permissions",children:"Permisos"}),(0,t.jsx)(e7,{value:"security",children:"Seguridad"})]}),(0,t.jsxs)(e9,{value:"info",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Nombre"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:P.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Email"}),(0,t.jsx)("p",{className:"font-medium",children:P.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Tel\xe9fono"}),(0,t.jsx)("p",{className:"font-medium",children:P.phone})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Rol"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f,{className:aj[P.role],children:ah[P.role]}),(0,t.jsx)(g,{variant:"outline",size:"sm",onClick:()=>X(P),children:"Cambiar"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Departamento"}),(0,t.jsx)("p",{className:"font-medium",children:P.department})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Supervisor"}),(0,t.jsx)("p",{className:"font-medium",children:P.supervisor||"No asignado"})]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)(g,{size:"sm",onClick:()=>ee(P),className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white",children:[(0,t.jsx)(ad.A,{className:"mr-2 h-4 w-4"}),"Enviar Invitaci\xf3n"]}),(0,t.jsxs)(g,{size:"sm",variant:"outline",onClick:()=>es(P),children:[(0,t.jsx)(ar.A,{className:"mr-2 h-4 w-4"}),"Restablecer Contrase\xf1a"]}),(0,t.jsxs)(g,{size:"sm",variant:"outline",onClick:()=>ea(P.id),children:[(0,t.jsx)(y.A,{className:"mr-2 h-4 w-4"}),P.twoFactorEnabled?"Deshabilitar":"Habilitar"," 2FA"]})]})]}),(0,t.jsxs)(e9,{value:"activity",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"text-center p-6 bg-blue-50 rounded-xl",children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:P.activations}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Activaciones Realizadas"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-green-50 rounded-xl",children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-green-600",children:P.tickets}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Tickets Gestionados"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-purple-50 rounded-xl",children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:"98%"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Eficiencia"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"\xdaltimo Acceso"}),(0,t.jsxs)("p",{className:"font-medium flex items-center",children:[(0,t.jsx)(ao.A,{className:"mr-2 h-4 w-4"}),P.lastLogin]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Fecha de Creaci\xf3n"}),(0,t.jsx)("p",{className:"font-medium",children:P.createdAt})]})]})]}),(0,t.jsxs)(e9,{value:"permissions",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(sR,{className:"text-lg font-semibold",children:["Permisos Asignados (",P.permissions.length,")"]}),(0,t.jsxs)(g,{variant:"outline",onClick:()=>W(P),children:[(0,t.jsx)(ar.A,{className:"mr-2 h-4 w-4"}),"Modificar Permisos"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(et()).map(e=>{let[s,a]=e;const r=a.filter(e=>P.permissions.includes(e.id));if(r.length===0)return null;return(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold mb-3 text-gray-800",children:s}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:r.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-green-50 rounded",children:[(0,t.jsx)(at.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"text-sm",children:e.name})]},e.id))})]},s)})})]}),(0,t.jsxs)(e9,{value:"security",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(sR,{className:"font-semibold",children:"Autenticaci\xf3n 2FA"}),(0,t.jsx)(sK,{checked:P.twoFactorEnabled,onCheckedChange:()=>ea(P.id)})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:P.twoFactorEnabled?"✅ Habilitada":"❌ Deshabilitada"})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)(sR,{className:"font-semibold",children:"\xdaltimo Cambio de Contrase\xf1a"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:P.lastPasswordChange}),(0,t.jsx)(g,{size:"sm",variant:"outline",className:"mt-2",onClick:()=>es(P),children:"Forzar Cambio"})]})]}),(0,t.jsx)("div",{className:"p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(sN.A,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-yellow-800",children:"\uD83D\uDD12 Configuraci\xf3n de Seguridad"}),(0,t.jsxs)("ul",{className:"text-sm text-yellow-700 mt-1 space-y-1",children:[(0,t.jsx)("li",{children:"• Las contrase\xf1as deben cambiarse cada 90 d\xedas"}),(0,t.jsx)("li",{children:"• Se recomienda habilitar 2FA para roles administrativos"}),(0,t.jsx)("li",{children:"• Las sesiones expiran autom\xe1ticamente despu\xe9s de 8 horas"})]})]})]})})]})]})]})}),(0,t.jsx)(ew,{open:b,onOpenChange:A,children:(0,t.jsxs)(eT,{className:"max-w-2xl",children:[(0,t.jsxs)(eD,{children:[(0,t.jsxs)(eP,{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(an.A,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{children:"Editar Usuario"})]}),(0,t.jsx)(eM,{children:"Modifica la informaci\xf3n del usuario seleccionado"})]}),P&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"editName",children:"Nombre Completo"}),(0,t.jsx)(eQ,{id:"editName",value:P.name,onChange:e=>M(s=>s?{...s,name:e.target.value}:null),className:"h-12"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"editEmail",children:"Email"}),(0,t.jsx)(eQ,{id:"editEmail",type:"email",value:P.email,onChange:e=>M(s=>s?{...s,email:e.target.value}:null),className:"h-12"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"editPhone",children:"Tel\xe9fono"}),(0,t.jsx)(eQ,{id:"editPhone",value:P.phone,onChange:e=>M(s=>s?{...s,phone:e.target.value}:null),className:"h-12"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"editDepartment",children:"Departamento"}),(0,t.jsxs)(sO,{value:P.department,onValueChange:e=>M(s=>s?{...s,department:e}:null),children:[(0,t.jsx)(sG,{className:"h-12",children:(0,t.jsx)(sB,{})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"Administraci\xf3n",children:"Administraci\xf3n"}),(0,t.jsx)(sH,{value:"Operaciones",children:"Operaciones"}),(0,t.jsx)(sH,{value:"Ventas",children:"Ventas"}),(0,t.jsx)(sH,{value:"Soporte",children:"Soporte"}),(0,t.jsx)(sH,{value:"Distribuci\xf3n",children:"Distribuci\xf3n"}),(0,t.jsx)(sH,{value:"Finanzas",children:"Finanzas"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"editNotes",children:"Notas"}),(0,t.jsx)(sQ,{id:"editNotes",value:P.notes||"",onChange:e=>M(s=>s?{...s,notes:e.target.value}:null),placeholder:"Notas adicionales sobre el usuario...",className:"min-h-[80px]"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(sK,{checked:P.status==="active",onCheckedChange:e=>M(s=>s?{...s,status:e?"active":"inactive"}:null)}),(0,t.jsx)(sR,{children:"Usuario activo"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>A(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:J,size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(at.A,{className:"mr-2 h-5 w-5"}),"Guardar Cambios"]})]})]})]})}),(0,t.jsx)(ew,{open:k,onOpenChange:T,children:(0,t.jsxs)(eT,{className:"max-w-3xl",children:[(0,t.jsxs)(eD,{children:[(0,t.jsxs)(eP,{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(y.A,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{children:"Cambiar Rol de Usuario"})]}),(0,t.jsxs)(eM,{children:["Selecciona el nuevo rol para ",P===null||P===void 0?void 0:P.name,". Los permisos se actualizar\xe1n autom\xe1ticamente."]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(ah).filter(e=>V||e!=="superadmin").map(e=>{const s=au[e];const a=(P===null||P===void 0?void 0:P.role)===e;const r=(P===null||P===void 0?void 0:P.role)===e;return(0,t.jsxs)("div",{className:"relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 ".concat(r?"border-gray-400 bg-gray-50 opacity-50":a?"border-blue-500 bg-blue-50 shadow-lg scale-105":"border-gray-200 hover:border-blue-300 hover:shadow-md"),onClick:()=>!r&&q(e),children:[r&&(0,t.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gray-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(ax.A,{className:"h-4 w-4 text-white"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br ".concat(e==="superadmin"?"from-red-500 to-red-600":e==="admin"?"from-blue-500 to-blue-600":e==="gerente"?"from-green-500 to-green-600":e==="operator"?"from-yellow-500 to-yellow-600":e==="subdistributor"?"from-purple-500 to-purple-600":"from-gray-500 to-gray-600"," rounded-xl flex items-center justify-center shadow-lg"),children:(0,t.jsx)(s,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-lg",children:ah[e]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[av[e].length," permisos"]}),r&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Rol actual"})]})]})]},e)})}),(0,t.jsx)("div",{className:"p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(sN.A,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-yellow-800",children:"⚠️ Importante"}),(0,t.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Cambiar el rol actualizar\xe1 autom\xe1ticamente todos los permisos del usuario seg\xfan las pol\xedticas del nuevo rol."})]})]})})]})]})}),(0,t.jsx)(ew,{open:D,onOpenChange:z,children:(0,t.jsxs)(eT,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(eD,{children:[(0,t.jsxs)(eP,{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(ar.A,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{children:"Gestionar Permisos"})]}),(0,t.jsxs)(eM,{children:["Personaliza los permisos espec\xedficos para ",P===null||P===void 0?void 0:P.name]})]}),P&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(f,{className:aj[P.role],children:ah[P.role]}),(0,t.jsx)("span",{className:"font-medium",children:"Permisos base del rol"})]}),(0,t.jsx)(g,{variant:"outline",size:"sm",onClick:()=>{const e={...P,permissions:av[P.role]};M(e);I({title:"\uD83D\uDD04 Permisos restablecidos",description:"Se han restablecido los permisos por defecto del rol"})},children:"Restablecer por Defecto"})]}),(0,t.jsx)("div",{className:"space-y-6",children:Object.entries(et()).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-800",children:s}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(g,{variant:"outline",size:"sm",onClick:()=>{const e=a.map(e=>e.id);const s=[...new Set([...P.permissions,...e])];M({...P,permissions:s})},children:"Seleccionar Todos"}),(0,t.jsx)(g,{variant:"outline",size:"sm",onClick:()=>{const e=a.map(e=>e.id);const s=P.permissions.filter(s=>!e.includes(s));M({...P,permissions:s})},children:"Deseleccionar Todos"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:a.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded",children:[(0,t.jsx)(sY,{checked:P.permissions.includes(e.id),onCheckedChange:s=>{const a=s?[...P.permissions,e.id]:P.permissions.filter(s=>s!==e.id);M({...P,permissions:a})}}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"font-medium cursor-pointer",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.id})]})]},e.id))})]},s)})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>z(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:()=>K(P.permissions),size:"lg",className:"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(ar.A,{className:"mr-2 h-5 w-5"}),"Guardar Permisos"]})]})]})]})})]})}var aN=a(76517);var ab=a(94449);var ay=a(46767);var aw=a(29869);var aA=a(81284);var aC=a(57434);var aS=a(85339);var ak=a(91788);const aT=[{id:"SIM001",iccid:"8934071234567890123",msisdn:"+52 55 1234 5678",operator:"Telcel",status:"Activa",customer:"Mar\xeda L\xf3pez",plan:"Plan B\xe1sico 500MB",activation:"2024-01-10",expiry:"2024-02-10"},{id:"SIM002",iccid:"8934071234567890124",msisdn:"+52 55 1234 5679",operator:"AT&T",status:"Disponible",customer:"-",plan:"-",activation:"-",expiry:"-"}];const aD=[{id:"telcel",name:"Telcel",color:"bg-blue-500"},{id:"att",name:"AT&T",color:"bg-red-500"},{id:"movistar",name:"Movistar",color:"bg-green-500"}];const az={Activa:"bg-green-100 text-green-800",Disponible:"bg-blue-100 text-blue-800",Suspendida:"bg-yellow-100 text-yellow-800",Inactiva:"bg-red-100 text-red-800"};const aP={Activa:aN.A,Disponible:at.A,Suspendida:ax.A,Inactiva:ab.A};function aM(e){let{userRole:s}=e;const[a,l]=(0,r.useState)(aT);const[i,o]=(0,r.useState)(false);const[x,h]=(0,r.useState)(false);const[u,j]=(0,r.useState)("");const[p,v]=(0,r.useState)(null);const[b,y]=(0,r.useState)({iccid:"",msisdn:"",operator:"",notes:""});const w=a.filter(e=>e.iccid.includes(u)||e.msisdn.includes(u)||e.operator.toLowerCase().includes(u.toLowerCase())||e.customer.toLowerCase().includes(u.toLowerCase()));const A=()=>{var e;if(!b.iccid||!b.msisdn||!b.operator){(0,N.oR)({title:"Error",description:"Por favor complete todos los campos requeridos",variant:"destructive"});return}const s={id:"SIM".concat(String(a.length+1).padStart(3,"0")),iccid:b.iccid,msisdn:b.msisdn,operator:((e=aD.find(e=>e.id===b.operator))===null||e===void 0?void 0:e.name)||b.operator,status:"Disponible",customer:"-",plan:"-",activation:"-",expiry:"-"};l([...a,s]);o(false);y({iccid:"",msisdn:"",operator:"",notes:""});(0,N.oR)({title:"SIM Creada",description:"SIM ".concat(s.id," agregada exitosamente")})};const C=()=>{if(!p){(0,N.oR)({title:"Error",description:"Por favor seleccione un archivo",variant:"destructive"});return}(0,N.oR)({title:"Procesando Archivo",description:"Cargando SIMs masivamente..."});setTimeout(()=>{const e=[{id:"SIM".concat(String(a.length+1).padStart(3,"0")),iccid:"8934071234567890125",msisdn:"+52 55 1234 5680",operator:"Telcel",status:"Disponible",customer:"-",plan:"-",activation:"-",expiry:"-"},{id:"SIM".concat(String(a.length+2).padStart(3,"0")),iccid:"8934071234567890126",msisdn:"+52 55 1234 5681",operator:"AT&T",status:"Disponible",customer:"-",plan:"-",activation:"-",expiry:"-"}];l([...a,...e]);h(false);v(null);(0,N.oR)({title:"Carga Completada",description:"".concat(e.length," SIMs cargadas exitosamente")})},2e3)};const S=e=>{var s;const a=(s=e.target.files)===null||s===void 0?void 0:s[0];if(a){v(a)}};const k=()=>{console.log("Opening new SIM modal");o(true)};return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,t.jsx)(ay.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesti\xf3n de SIMs"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Administrar inventario de tarjetas SIM"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)(ew,{open:x,onOpenChange:h,children:[(0,t.jsx)(eA,{asChild:true,children:(0,t.jsxs)(g,{variant:"outline",size:"lg",className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(aw.A,{className:"mr-2 h-5 w-5"}),"Carga Masiva"]})}),(0,t.jsxs)(eT,{className:"max-w-2xl",children:[(0,t.jsx)(eD,{className:"pb-6",children:(0,t.jsxs)(eP,{className:"text-2xl font-bold flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,t.jsx)(aw.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Carga Masiva de SIMs"}),(0,t.jsx)("p",{className:"text-sm font-normal text-gray-600 mt-1",children:"Importar m\xfaltiples SIMs desde archivo Excel/CSV"})]})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(aA.A,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-blue-800",children:"\uD83D\uDCCB Formato Requerido"}),(0,t.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"El archivo debe contener las siguientes columnas:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-600 mt-2 space-y-1",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"ICCID:"})," Identificador \xfanico de la SIM"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"MSISDN:"})," N\xfamero de tel\xe9fono asignado"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Operador:"})," Telcel, AT&T, o Movistar"]})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"file-upload",className:"text-base font-semibold",children:"Seleccionar Archivo"}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 transition-colors",children:[(0,t.jsx)("input",{id:"file-upload",type:"file",accept:".csv,.xlsx,.xls",onChange:S,className:"hidden"}),(0,t.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:(0,t.jsx)(aC.A,{className:"h-8 w-8 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-lg font-medium text-gray-900",children:p?p.name:"Seleccionar archivo"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:p?"Tama\xf1o: ".concat((p.size/1024).toFixed(2)," KB"):"Formatos soportados: CSV, Excel (.xlsx, .xls)"})]}),(0,t.jsxs)(g,{type:"button",variant:"outline",className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100",children:[(0,t.jsx)(aw.A,{className:"mr-2 h-4 w-4"}),p?"Cambiar archivo":"Examinar archivos"]})]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"CSV"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Recomendado"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"Excel (.xlsx)"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Compatible"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"Excel (.xls)"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Compatible"})]})]}),(0,t.jsx)("div",{className:"p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(aS.A,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-yellow-800",children:"⚠️ Importante"}),(0,t.jsxs)("ul",{className:"text-sm text-yellow-700 mt-1 space-y-1",children:[(0,t.jsx)("li",{children:"• Verifique que no haya ICCIDs duplicados"}),(0,t.jsx)("li",{children:"• Los n\xfameros MSISDN deben tener formato v\xe1lido"}),(0,t.jsx)("li",{children:"• El proceso puede tardar varios minutos"})]})]})]})}),(0,t.jsx)(I,{}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>h(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:C,disabled:!p,size:"lg",className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(aw.A,{className:"mr-2 h-5 w-5"}),"Procesar Archivo"]})]})]})]})]}),(0,t.jsxs)(ew,{open:i,onOpenChange:o,children:[(0,t.jsx)(eA,{asChild:true,children:(0,t.jsxs)(g,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:k,children:[(0,t.jsx)(sD.A,{className:"mr-2 h-5 w-5"}),"Nueva L\xednea"]})}),(0,t.jsxs)(eT,{className:"max-w-2xl",children:[(0,t.jsx)(eD,{className:"pb-6",children:(0,t.jsxs)(eP,{className:"text-2xl font-bold flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,t.jsx)(ay.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Nueva L\xednea SIM"}),(0,t.jsx)("p",{className:"text-sm font-normal text-gray-600 mt-1",children:"Agregar nueva tarjeta SIM al inventario"})]})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl border border-purple-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(ay.A,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-purple-800",children:"\uD83D\uDCF1 Nueva SIM"}),(0,t.jsx)("p",{className:"text-sm text-purple-700",children:"Complete la informaci\xf3n de la tarjeta SIM"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"iccid",className:"text-base font-semibold",children:"ICCID *"}),(0,t.jsx)(eQ,{id:"iccid",placeholder:"8934071234567890123",value:b.iccid,onChange:e=>y({...b,iccid:e.target.value}),className:"h-12 font-mono",maxLength:20})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"msisdn",className:"text-base font-semibold",children:"MSISDN *"}),(0,t.jsx)(eQ,{id:"msisdn",placeholder:"+52 55 1234 5678",value:b.msisdn,onChange:e=>y({...b,msisdn:e.target.value}),className:"h-12 font-mono"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"operator",className:"text-base font-semibold",children:"Operador *"}),(0,t.jsxs)(sO,{value:b.operator,onValueChange:e=>y({...b,operator:e}),children:[(0,t.jsx)(sG,{className:"h-12",children:(0,t.jsx)(sB,{placeholder:"Seleccionar operador..."})}),(0,t.jsx)(sU,{children:aD.map(e=>(0,t.jsx)(sH,{value:e.id,children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),(0,t.jsx)("span",{className:"font-medium",children:e.name})]})},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"notes",className:"text-base font-semibold",children:"Notas (Opcional)"}),(0,t.jsx)(sQ,{id:"notes",placeholder:"Comentarios adicionales sobre la SIM...",value:b.notes,onChange:e=>y({...b,notes:e.target.value}),className:"min-h-[100px]"})]}),(0,t.jsx)(I,{}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>o(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:A,size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(sD.A,{className:"mr-2 h-5 w-5"}),"Crear SIM"]})]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total SIMs"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:a.length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(ay.A,{className:"h-6 w-6 text-purple-600"})})]})})}),(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Activas"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-green-600",children:a.filter(e=>e.status==="Activa").length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(aN.A,{className:"h-6 w-6 text-green-600"})})]})})}),(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Disponibles"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:a.filter(e=>e.status==="Disponible").length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(at.A,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Suspendidas"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:a.filter(e=>e.status==="Suspendida").length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(ax.A,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eW.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(eQ,{placeholder:"Buscar SIMs por ICCID, MSISDN, operador o cliente...",value:u,onChange:e=>j(e.target.value),className:"pl-12 h-12 text-base"})]})})}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{children:["Inventario de SIMs (",w.length,")"]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(f,{variant:"outline",className:"text-sm",children:[a.filter(e=>e.status==="Activa").length," activas"]}),(0,t.jsxs)(g,{variant:"outline",size:"sm",children:[(0,t.jsx)(ak.A,{className:"mr-2 h-4 w-4"}),"Exportar"]})]})]})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"ID"}),(0,t.jsx)(sl,{children:"ICCID"}),(0,t.jsx)(sl,{children:"MSISDN"}),(0,t.jsx)(sl,{children:"Operador"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Cliente"}),(0,t.jsx)(sl,{children:"Plan"}),(0,t.jsx)(sl,{children:"Activaci\xf3n"}),(0,t.jsx)(sl,{children:"Vencimiento"}),(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:w.map(e=>{const a=aP[e.status];return(0,t.jsxs)(sr,{className:"hover:bg-gray-50",children:[(0,t.jsx)(si,{className:"font-medium",children:e.id}),(0,t.jsx)(si,{className:"font-mono text-sm",children:e.iccid}),(0,t.jsx)(si,{className:"font-mono",children:e.msisdn}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.operator==="Telcel"?"bg-blue-500":e.operator==="AT&T"?"bg-red-500":"bg-green-500")}),(0,t.jsx)("span",{children:e.operator})]})}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(a,{className:"h-4 w-4"}),(0,t.jsx)(f,{className:az[e.status],children:e.status})]})}),(0,t.jsx)(si,{children:e.customer}),(0,t.jsx)(si,{children:e.plan}),(0,t.jsx)(si,{className:"text-sm text-gray-600",children:e.activation}),(0,t.jsx)(si,{className:"text-sm text-gray-600",children:e.expiry}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)(g,{variant:"ghost",size:"sm",title:"Ver detalles",children:(0,t.jsx)(ai.A,{className:"h-4 w-4"})}),(0,t.jsx)(g,{variant:"ghost",size:"sm",title:"Editar",children:(0,t.jsx)(an.A,{className:"h-4 w-4"})}),s==="superadmin"&&(0,t.jsx)(g,{variant:"ghost",size:"sm",title:"Eliminar",children:(0,t.jsx)(ac.A,{className:"h-4 w-4"})})]})})]},e.id)})})]})})]})]})}var aE=a(50675);const aR=[{id:1,name:"Juan P\xe9rez Gonz\xe1lez",email:"juan.perez@email.com",phone:"+52 55 1234 5678",createdBy:"Carlos L\xf3pez",createdAt:"2024-01-15",status:"Activo",lines:2,totalSpent:"$450.00",lastActivity:"2024-01-15 14:30"},{id:2,name:"Mar\xeda L\xf3pez Mart\xedn",email:"maria.lopez@email.com",phone:"+52 55 2345 6789",createdBy:"Ana Garc\xeda",createdAt:"2024-01-14",status:"Activo",lines:1,totalSpent:"$125.00",lastActivity:"2024-01-14 16:45"},{id:3,name:"Carlos Garc\xeda Ruiz",email:"carlos.garcia@email.com",phone:"+52 55 3456 7890",createdBy:"Juan P\xe9rez",createdAt:"2024-01-13",status:"Suspendido",lines:3,totalSpent:"$890.00",lastActivity:"2024-01-13 12:20"}];const aI=[{id:1,customerId:1,msisdn:"+52 55 1234 5678",plan:"Plan B\xe1sico 500MB",status:"Activa",validity:"2024-02-15",sim:"8934071234567890123",balance:"$15.50",dataUsed:"250MB / 500MB"},{id:2,customerId:1,msisdn:"+52 55 1234 5679",plan:"Plan Premium 2GB",status:"Activa",validity:"2024-02-20",sim:"8934071234567890124",balance:"$25.00",dataUsed:"1.2GB / 2GB"}];const aF=[{id:"TXN001",type:"Activaci\xf3n",amount:"$25.00",date:"2024-01-15 14:30",status:"Completado",description:"Activaci\xf3n Plan B\xe1sico"},{id:"TXN002",type:"Recarga",amount:"$20.00",date:"2024-01-14 10:15",status:"Completado",description:"Recarga de saldo"}];function aL(e){let{userRole:s,activeTab:a="customers"}=e;const[l,i]=(0,r.useState)("");const[o,x]=(0,r.useState)(false);const[h,u]=(0,r.useState)(null);const[j,p]=(0,r.useState)(false);const[v,N]=(0,r.useState)(null);const[b,y]=(0,r.useState)(false);const{canPerformAction:w}=_();const C=aR.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.email.toLowerCase().includes(l.toLowerCase())||e.phone.includes(l));const S=w("customers.write");const k=w("customers.write");const T=e=>{N(e);p(true)};const D=e=>{if(confirm("\xbfEst\xe1 seguro de que desea eliminar este cliente?")){console.log("Deleting customer:",e)}};if(a==="lines"){return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(aE.A,{className:"h-5 w-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesti\xf3n de L\xedneas"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Administrar l\xedneas telef\xf3nicas activas"})]})]}),(0,t.jsxs)(ew,{open:b,onOpenChange:y,children:[(0,t.jsx)(eA,{asChild:true,children:(0,t.jsxs)(g,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(sD.A,{className:"mr-2 h-4 w-4"}),"Nueva L\xednea"]})}),(0,t.jsxs)(eT,{className:"max-w-2xl",children:[(0,t.jsx)(eD,{className:"pb-6",children:(0,t.jsxs)(eP,{className:"text-2xl font-bold flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(aE.A,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{children:"Nueva L\xednea Telef\xf3nica"})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"newLineMsisdn",className:"text-base font-semibold",children:"MSISDN"}),(0,t.jsx)(eQ,{id:"newLineMsisdn",placeholder:"+52 55 1234 5678",className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"newLineCustomer",className:"text-base font-semibold",children:"Cliente"}),(0,t.jsx)(eQ,{id:"newLineCustomer",placeholder:"Seleccionar cliente",className:"h-12"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"newLinePlan",className:"text-base font-semibold",children:"Plan"}),(0,t.jsx)(eQ,{id:"newLinePlan",placeholder:"Seleccionar plan",className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"newLineSim",className:"text-base font-semibold",children:"SIM Card"}),(0,t.jsx)(eQ,{id:"newLineSim",placeholder:"8934071234567890123",className:"h-12"})]})]}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 p-4 rounded-xl border border-blue-200",children:(0,t.jsxs)("p",{className:"text-sm text-blue-700",children:["\uD83D\uDCF1 ",(0,t.jsx)("strong",{children:"Informaci\xf3n:"})," La nueva l\xednea ser\xe1 activada inmediatamente despu\xe9s de la creaci\xf3n."]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>y(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:()=>y(false),size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(aE.A,{className:"mr-2 h-5 w-5"}),"Crear L\xednea"]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"2,156"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"L\xedneas Activas"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"89"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Nuevas Hoy"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:"45"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Suspendidas"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"$45,230"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Ingresos Totales"})]})})})]}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"L\xedneas Activas"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"MSISDN"}),(0,t.jsx)(sl,{children:"Cliente"}),(0,t.jsx)(sl,{children:"Plan"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Balance"}),(0,t.jsx)(sl,{children:"Uso de Datos"}),(0,t.jsx)(sl,{children:"Validez"}),(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:aI.map(e=>{var s;return(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.msisdn}),(0,t.jsx)(si,{children:((s=aR.find(s=>s.id===e.customerId))===null||s===void 0?void 0:s.name)||"N/A"}),(0,t.jsx)(si,{children:e.plan}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:e.status==="Activa"?"default":"destructive",children:e.status})}),(0,t.jsx)(si,{className:"font-semibold text-green-600",children:e.balance}),(0,t.jsx)(si,{children:e.dataUsed}),(0,t.jsx)(si,{children:e.validity}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(g,{variant:"ghost",size:"sm",title:"Ver detalles",children:(0,t.jsx)(ai.A,{className:"h-4 w-4"})}),k&&(0,t.jsx)(g,{variant:"ghost",size:"sm",title:"Editar",children:(0,t.jsx)(an.A,{className:"h-4 w-4"})})]})})]},e.id)})})]})})]})]})}return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(U.A,{className:"h-5 w-5 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesti\xf3n de Clientes"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Administrar clientes y sus l\xedneas telef\xf3nicas"})]})]}),S&&(0,t.jsxs)(ew,{open:o,onOpenChange:x,children:[(0,t.jsx)(eA,{asChild:true,children:(0,t.jsxs)(g,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(sD.A,{className:"mr-2 h-4 w-4"}),"Crear Cliente"]})}),(0,t.jsxs)(eT,{className:"max-w-2xl",children:[(0,t.jsx)(eD,{className:"pb-6",children:(0,t.jsxs)(eP,{className:"text-2xl font-bold flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(U.A,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{children:"Crear Nuevo Cliente"})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"customerName",className:"text-base font-semibold",children:"Nombre Completo"}),(0,t.jsx)(eQ,{id:"customerName",placeholder:"Ingrese el nombre completo",className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"customerEmail",className:"text-base font-semibold",children:"Email"}),(0,t.jsx)(eQ,{id:"customerEmail",type:"email",placeholder:"cliente@email.com",className:"h-12"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"customerPhone",className:"text-base font-semibold",children:"Tel\xe9fono"}),(0,t.jsx)(eQ,{id:"customerPhone",placeholder:"+52 55 1234 5678",className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"customerAddress",className:"text-base font-semibold",children:"Direcci\xf3n"}),(0,t.jsx)(eQ,{id:"customerAddress",placeholder:"Direcci\xf3n completa",className:"h-12"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"customerNotes",className:"text-base font-semibold",children:"Notas Adicionales (Opcional)"}),(0,t.jsx)(sQ,{id:"customerNotes",placeholder:"Informaci\xf3n adicional sobre el cliente...",className:"min-h-[80px]"})]}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 p-4 rounded-xl border border-blue-200",children:(0,t.jsxs)("p",{className:"text-sm text-blue-700",children:["\uD83D\uDC64 ",(0,t.jsx)("strong",{children:"Informaci\xf3n:"})," Todos los campos marcados son obligatorios para crear el cliente."]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>x(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:()=>x(false),size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(U.A,{className:"mr-2 h-5 w-5"}),"Crear Cliente"]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"1,247"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Clientes"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"1,156"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Activos"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:"45"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Nuevos Hoy"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:"46"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Suspendidos"})]})})})]}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eW.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(eQ,{placeholder:"Buscar clientes por nombre, email o tel\xe9fono...",value:l,onChange:e=>i(e.target.value),className:"pl-10"})]})})}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Lista de Clientes"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"Nombre"}),(0,t.jsx)(sl,{children:"Email"}),(0,t.jsx)(sl,{children:"Tel\xe9fono"}),(0,t.jsx)(sl,{children:"Creado por"}),(0,t.jsx)(sl,{children:"Fecha"}),(0,t.jsx)(sl,{children:"L\xedneas"}),(0,t.jsx)(sl,{children:"Gasto Total"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:C.map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.name}),(0,t.jsx)(si,{children:e.email}),(0,t.jsx)(si,{children:e.phone}),(0,t.jsx)(si,{children:e.createdBy}),(0,t.jsx)(si,{children:e.createdAt}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"outline",children:e.lines})}),(0,t.jsx)(si,{className:"font-semibold text-green-600",children:e.totalSpent}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:e.status==="Activo"?"default":"destructive",children:e.status})}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>u(e.id),title:"Ver detalles",children:(0,t.jsx)(ai.A,{className:"h-4 w-4"})}),k&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>T(e),title:"Editar",children:(0,t.jsx)(an.A,{className:"h-4 w-4"})}),(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>D(e.id),className:"text-red-600",title:"Eliminar",children:(0,t.jsx)(ac.A,{className:"h-4 w-4"})})]})]})})]},e.id))})]})})]}),h&&(0,t.jsx)(ew,{open:!!h,onOpenChange:()=>u(null),children:(0,t.jsxs)(eT,{className:"max-w-4xl",children:[(0,t.jsx)(eD,{children:(0,t.jsx)(eP,{children:"Detalle del Cliente"})}),(0,t.jsxs)(e3,{defaultValue:"profile",className:"w-full",children:[(0,t.jsxs)(e8,{children:[(0,t.jsx)(e7,{value:"profile",children:"Perfil"}),(0,t.jsx)(e7,{value:"lines",children:"L\xedneas"}),(0,t.jsx)(e7,{value:"transactions",children:"Transacciones"}),(0,t.jsx)(e7,{value:"tickets",children:"Tickets"})]}),(0,t.jsx)(e9,{value:"profile",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"font-medium",children:"Juan P\xe9rez Gonz\xe1lez"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ad.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{children:"juan.perez@email.com"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)($.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{children:"+52 55 1234 5678"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Estado: "}),(0,t.jsx)(f,{children:"Activo"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Gasto Total: "}),(0,t.jsx)("span",{className:"text-green-600 font-semibold",children:"$450.00"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"\xdaltima Actividad: "}),(0,t.jsx)("span",{className:"text-gray-600",children:"2024-01-15 14:30"})]})]})}),(0,t.jsx)(e9,{value:"lines",children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"MSISDN"}),(0,t.jsx)(sl,{children:"Plan"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Balance"}),(0,t.jsx)(sl,{children:"Validez"}),(0,t.jsx)(sl,{children:"SIM"})]})}),(0,t.jsx)(sa,{children:aI.filter(e=>e.customerId===h).map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{children:e.msisdn}),(0,t.jsx)(si,{children:e.plan}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"default",children:e.status})}),(0,t.jsx)(si,{className:"font-semibold text-green-600",children:e.balance}),(0,t.jsx)(si,{children:e.validity}),(0,t.jsx)(si,{className:"font-mono text-sm",children:e.sim})]},e.id))})]})}),(0,t.jsx)(e9,{value:"transactions",children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"ID"}),(0,t.jsx)(sl,{children:"Tipo"}),(0,t.jsx)(sl,{children:"Monto"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Fecha"}),(0,t.jsx)(sl,{children:"Descripci\xf3n"})]})}),(0,t.jsx)(sa,{children:aF.map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.id}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"outline",children:e.type})}),(0,t.jsx)(si,{className:"font-semibold",children:e.amount}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"default",children:e.status})}),(0,t.jsx)(si,{children:e.date}),(0,t.jsx)(si,{children:e.description})]},e.id))})]})}),(0,t.jsx)(e9,{value:"tickets",children:(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-600",children:"No hay tickets asociados a este cliente"})})})]})]})}),v&&(0,t.jsx)(ew,{open:j,onOpenChange:p,children:(0,t.jsxs)(eT,{className:"max-w-2xl",children:[(0,t.jsx)(eD,{className:"pb-6",children:(0,t.jsxs)(eP,{className:"text-2xl font-bold flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(an.A,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{children:"Editar Cliente"})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"editName",className:"text-base font-semibold",children:"Nombre Completo"}),(0,t.jsx)(eQ,{id:"editName",defaultValue:v.name,className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"editEmail",className:"text-base font-semibold",children:"Email"}),(0,t.jsx)(eQ,{id:"editEmail",type:"email",defaultValue:v.email,className:"h-12"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"editPhone",className:"text-base font-semibold",children:"Tel\xe9fono"}),(0,t.jsx)(eQ,{id:"editPhone",defaultValue:v.phone,className:"h-12"})]}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-xl border border-yellow-200",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-700",children:["⚠️ ",(0,t.jsx)("strong",{children:"Atenci\xf3n:"})," Los cambios se aplicar\xe1n inmediatamente despu\xe9s de guardar."]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>p(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:()=>p(false),size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(an.A,{className:"mr-2 h-5 w-5"}),"Guardar Cambios"]})]})]})]})})]})}var a_=a(81497);const aO=[{id:"TKT001",title:"Problema con activaci\xf3n de SIM",category:"T\xe9cnico",priority:"Alta",status:"Abierto",createdBy:"Juan P\xe9rez",assignedTo:"Soporte T\xe9cnico",createdAt:"2024-01-15 10:30",customer:"Mar\xeda L\xf3pez",description:"La SIM no se activa correctamente despu\xe9s de seguir el proceso est\xe1ndar.",comments:[{id:1,author:"Juan P\xe9rez",message:"He intentado el proceso de activaci\xf3n 3 veces sin \xe9xito",timestamp:"2024-01-15 10:30"}]},{id:"TKT02",title:"Consulta sobre planes disponibles",category:"Comercial",priority:"Media",status:"En Progreso",createdBy:"Carlos Garc\xeda",assignedTo:"Ventas",createdAt:"2024-01-15 09:15",customer:"Ana Rodr\xedguez",description:"Cliente solicita informaci\xf3n sobre planes empresariales.",comments:[]}];const aV={Baja:"bg-green-100 text-green-800",Media:"bg-yellow-100 text-yellow-800",Alta:"bg-red-100 text-red-800",Crítica:"bg-purple-100 text-purple-800"};const aB={Abierto:"bg-blue-100 text-blue-800","En Progreso":"bg-yellow-100 text-yellow-800",Resuelto:"bg-green-100 text-green-800",Cerrado:"bg-gray-100 text-gray-800"};const aG={Abierto:aS.A,"En Progreso":ax.A,Resuelto:at.A,Cerrado:at.A};function aU(e){let{userRole:s}=e;const[a,l]=(0,r.useState)(aO);const[i,o]=(0,r.useState)("");const[x,h]=(0,r.useState)("all");const[u,j]=(0,r.useState)("all");const[p,v]=(0,r.useState)(false);const[b,y]=(0,r.useState)(false);const[w,C]=(0,r.useState)(null);const[S,k]=(0,r.useState)({title:"",category:"",priority:"",customer:"",description:""});const[T,D]=(0,r.useState)("");const z=a.filter(e=>{const s=e.title.toLowerCase().includes(i.toLowerCase())||e.id.toLowerCase().includes(i.toLowerCase())||e.customer.toLowerCase().includes(i.toLowerCase());const a=x==="all"||e.status===x;const t=u==="all"||e.priority===u;return s&&a&&t});const P=()=>{if(!S.title||!S.category||!S.priority||!S.description){(0,N.oR)({title:"Error",description:"Por favor complete todos los campos requeridos",variant:"destructive"});return}const e={id:"TKT".concat(String(a.length+1).padStart(3,"0")),...S,status:"Abierto",createdBy:"Usuario Actual",assignedTo:S.category==="T\xe9cnico"?"Soporte T\xe9cnico":"Ventas",createdAt:new Date().toLocaleString("es-MX"),comments:[]};l([e,...a]);k({title:"",category:"",priority:"",customer:"",description:""});v(false);(0,N.oR)({title:"Ticket Creado",description:"Ticket ".concat(e.id," creado exitosamente")})};const M=e=>{C(e);y(true)};const E=(e,s)=>{l(a.map(a=>a.id===e?{...a,status:s}:a));(0,N.oR)({title:"Estado Actualizado",description:"Ticket ".concat(e," marcado como ").concat(s)})};const R=()=>{if(!T.trim())return;const e={id:Date.now(),author:"Usuario Actual",message:T,timestamp:new Date().toLocaleString("es-MX")};l(a.map(s=>s.id===w.id?{...s,comments:[...s.comments,e]}:s));C({...w,comments:[...w.comments,e]});D("");(0,N.oR)({title:"Comentario Agregado",description:"Comentario agregado exitosamente"})};const I=(e,s)=>{l(a.map(a=>a.id===e?{...a,assignedTo:s}:a));(0,N.oR)({title:"Ticket Asignado",description:"Ticket ".concat(e," asignado a ").concat(s)})};return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Sistema de Tickets"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Gestionar tickets de soporte y consultas"})]}),(0,t.jsxs)(ew,{open:p,onOpenChange:v,children:[(0,t.jsx)(eA,{asChild:true,children:(0,t.jsxs)(g,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(sD.A,{className:"mr-2 h-4 w-4"}),"Crear Ticket"]})}),(0,t.jsxs)(eT,{className:"max-w-2xl",children:[(0,t.jsx)(eD,{className:"pb-6",children:(0,t.jsxs)(eP,{className:"text-2xl font-bold flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(sD.A,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{children:"Crear Nuevo Ticket"})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"ticketTitle",className:"text-base font-semibold",children:"T\xedtulo *"}),(0,t.jsx)(eQ,{id:"ticketTitle",placeholder:"Descripci\xf3n breve del problema",value:S.title,onChange:e=>k({...S,title:e.target.value}),className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"ticketCategory",className:"text-base font-semibold",children:"Categor\xeda *"}),(0,t.jsxs)(sO,{value:S.category,onValueChange:e=>k({...S,category:e}),children:[(0,t.jsx)(sG,{className:"h-12",children:(0,t.jsx)(sB,{placeholder:"Seleccionar categor\xeda"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"T\xe9cnico",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,t.jsx)("span",{children:"T\xe9cnico"})]})}),(0,t.jsx)(sH,{value:"Comercial",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,t.jsx)("span",{children:"Comercial"})]})}),(0,t.jsx)(sH,{value:"Facturaci\xf3n",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:"Facturaci\xf3n"})]})}),(0,t.jsx)(sH,{value:"General",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),(0,t.jsx)("span",{children:"General"})]})})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"ticketPriority",className:"text-base font-semibold",children:"Prioridad *"}),(0,t.jsxs)(sO,{value:S.priority,onValueChange:e=>k({...S,priority:e}),children:[(0,t.jsx)(sG,{className:"h-12",children:(0,t.jsx)(sB,{placeholder:"Seleccionar prioridad"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"Baja",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:"Baja"})]})}),(0,t.jsx)(sH,{value:"Media",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,t.jsx)("span",{children:"Media"})]})}),(0,t.jsx)(sH,{value:"Alta",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,t.jsx)("span",{children:"Alta"})]})}),(0,t.jsx)(sH,{value:"Cr\xedtica",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,t.jsx)("span",{children:"Cr\xedtica"})]})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"ticketCustomer",className:"text-base font-semibold",children:"Cliente (Opcional)"}),(0,t.jsx)(eQ,{id:"ticketCustomer",placeholder:"Nombre del cliente relacionado",value:S.customer,onChange:e=>k({...S,customer:e.target.value}),className:"h-12"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"ticketDescription",className:"text-base font-semibold",children:"Descripci\xf3n *"}),(0,t.jsx)(sQ,{id:"ticketDescription",placeholder:"Descripci\xf3n detallada del problema o consulta",rows:4,value:S.description,onChange:e=>k({...S,description:e.target.value}),className:"min-h-[120px]"})]}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border border-blue-200",children:(0,t.jsxs)("p",{className:"text-sm text-blue-700",children:["\uD83C\uDFAB ",(0,t.jsx)("strong",{children:"Informaci\xf3n:"})," Los campos marcados con * son obligatorios. El ticket ser\xe1 asignado autom\xe1ticamente seg\xfan la categor\xeda."]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>v(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:P,size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(sD.A,{className:"mr-2 h-5 w-5"}),"Crear Ticket"]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Abiertos"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:a.filter(e=>e.status==="Abierto").length})]}),(0,t.jsx)(aS.A,{className:"h-8 w-8 text-blue-600"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"En Progreso"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:a.filter(e=>e.status==="En Progreso").length})]}),(0,t.jsx)(ax.A,{className:"h-8 w-8 text-yellow-600"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Resueltos Hoy"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:a.filter(e=>e.status==="Resuelto"&&e.createdAt.includes(new Date().toISOString().split("T")[0])).length})]}),(0,t.jsx)(at.A,{className:"h-8 w-8 text-green-600"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Tiempo Promedio"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"2.5h"})]}),(0,t.jsx)(ax.A,{className:"h-8 w-8 text-gray-600"})]})})})]}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eW.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(eQ,{placeholder:"Buscar tickets por ID, t\xedtulo o cliente...",value:i,onChange:e=>o(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)(sO,{value:x,onValueChange:h,children:[(0,t.jsx)(sG,{className:"w-48",children:(0,t.jsx)(sB,{placeholder:"Estado"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"all",children:"Todos los estados"}),(0,t.jsx)(sH,{value:"Abierto",children:"Abierto"}),(0,t.jsx)(sH,{value:"En Progreso",children:"En Progreso"}),(0,t.jsx)(sH,{value:"Resuelto",children:"Resuelto"}),(0,t.jsx)(sH,{value:"Cerrado",children:"Cerrado"})]})]}),(0,t.jsxs)(sO,{value:u,onValueChange:j,children:[(0,t.jsx)(sG,{className:"w-48",children:(0,t.jsx)(sB,{placeholder:"Prioridad"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"all",children:"Todas las prioridades"}),(0,t.jsx)(sH,{value:"Baja",children:"Baja"}),(0,t.jsx)(sH,{value:"Media",children:"Media"}),(0,t.jsx)(sH,{value:"Alta",children:"Alta"}),(0,t.jsx)(sH,{value:"Cr\xedtica",children:"Cr\xedtica"})]})]})]})})}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{children:["Lista de Tickets (",z.length,")"]})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"ID"}),(0,t.jsx)(sl,{children:"T\xedtulo"}),(0,t.jsx)(sl,{children:"Categor\xeda"}),(0,t.jsx)(sl,{children:"Prioridad"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Cliente"}),(0,t.jsx)(sl,{children:"Creado por"}),(0,t.jsx)(sl,{children:"Fecha"}),(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:z.map(e=>{const s=aG[e.status];return(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.id}),(0,t.jsx)(si,{className:"max-w-xs truncate",children:e.title}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"outline",children:e.category})}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{className:aV[e.priority],children:e.priority})}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(s,{className:"h-4 w-4"}),(0,t.jsx)(f,{className:aB[e.status],children:e.status})]})}),(0,t.jsx)(si,{children:e.customer||"-"}),(0,t.jsx)(si,{children:e.createdBy}),(0,t.jsx)(si,{className:"text-sm text-gray-600",children:e.createdAt}),(0,t.jsx)(si,{children:(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>M(e),title:"Ver detalles",children:(0,t.jsx)(ai.A,{className:"h-4 w-4"})})})]},e.id)})})]})})]}),w&&(0,t.jsx)(ew,{open:b,onOpenChange:y,children:(0,t.jsxs)(eT,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsx)(eD,{children:(0,t.jsxs)(eP,{children:["Ticket ",w.id," - ",w.title]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Estado"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsx)(f,{className:aB[w.status],children:w.status}),(0,t.jsxs)(sO,{value:w.status,onValueChange:e=>E(w.id,e),children:[(0,t.jsx)(sG,{className:"w-32 h-8",children:(0,t.jsx)(sB,{})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"Abierto",children:"Abierto"}),(0,t.jsx)(sH,{value:"En Progreso",children:"En Progreso"}),(0,t.jsx)(sH,{value:"Resuelto",children:"Resuelto"}),(0,t.jsx)(sH,{value:"Cerrado",children:"Cerrado"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Prioridad"}),(0,t.jsx)(f,{className:aV[w.priority],children:w.priority})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Categor\xeda"}),(0,t.jsx)("p",{children:w.category})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Cliente"}),(0,t.jsx)("p",{children:w.customer||"No especificado"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Creado por"}),(0,t.jsx)("p",{children:w.createdBy})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Asignado a"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsx)("p",{children:w.assignedTo}),(0,t.jsxs)(sO,{value:w.assignedTo,onValueChange:e=>I(w.id,e),children:[(0,t.jsx)(sG,{className:"w-32 h-8",children:(0,t.jsx)(sB,{})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"Soporte T\xe9cnico",children:"Soporte T\xe9cnico"}),(0,t.jsx)(sH,{value:"Ventas",children:"Ventas"}),(0,t.jsx)(sH,{value:"Administraci\xf3n",children:"Administraci\xf3n"})]})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Descripci\xf3n"}),(0,t.jsx)("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm",children:w.description})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(sR,{className:"text-sm font-medium text-gray-600",children:["Comentarios (",w.comments.length,")"]}),(0,t.jsxs)("div",{className:"mt-2 space-y-3 max-h-60 overflow-y-auto",children:[w.comments.map(e=>(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,t.jsx)(A.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"font-medium text-sm",children:e.author}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:e.timestamp})]}),(0,t.jsx)("p",{className:"text-sm",children:e.message})]},e.id)),w.comments.length===0&&(0,t.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay comentarios a\xfan"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"newComment",children:"Agregar Comentario"}),(0,t.jsxs)("div",{className:"flex space-x-2 mt-1",children:[(0,t.jsx)(sQ,{id:"newComment",placeholder:"Escribir comentario...",value:T,onChange:e=>D(e.target.value),rows:2,className:"flex-1"}),(0,t.jsxs)(g,{onClick:R,disabled:!T.trim(),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(a_.A,{className:"h-4 w-4 mr-2"}),"Enviar"]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>y(false),children:"Cerrar"}),w.status!=="Resuelto"&&(0,t.jsx)(g,{onClick:()=>{E(w.id,"Resuelto");y(false)},className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Marcar como Resuelto"})]})]})]})})]})}var a$=a(76356);var aH=a(68500);const aJ=[{id:"TXN001",type:"Transferencia Enviada",from:"Admin Principal",to:"Operador 1",amount:-500,balance:4500,date:"2024-01-15 14:30",status:"Completado",reference:"REF001"},{id:"TXN002",type:"Transferencia Recibida",from:"Sistema",to:"Admin Principal",amount:1e3,balance:5e3,date:"2024-01-15 10:00",status:"Completado",reference:"REF002"}];const aX=[{id:"USER001",name:"Operador 1",role:"Operador",balance:250,status:"Activo"},{id:"USER002",name:"Operador 2",role:"Operador",balance:180.5,status:"Activo"},{id:"USER003",name:"Admin Sucursal",role:"Admin",balance:750,status:"Activo"}];const aq={Completado:"bg-green-100 text-green-800",Pendiente:"bg-yellow-100 text-yellow-800",Fallido:"bg-red-100 text-red-800"};function aW(e){let{userRole:s}=e;const[a,l]=(0,r.useState)(aJ);const[i,o]=(0,r.useState)(false);const[x,h]=(0,r.useState)("");const[u,j]=(0,r.useState)({recipient:"",amount:"",reference:"",notes:""});const p=4500;const v=a.filter(e=>e.type.toLowerCase().includes(x.toLowerCase())||e.from.toLowerCase().includes(x.toLowerCase())||e.to.toLowerCase().includes(x.toLowerCase())||e.reference.toLowerCase().includes(x.toLowerCase()));const b=()=>{if(!u.recipient||!u.amount){(0,N.oR)({title:"Error",description:"Por favor complete todos los campos requeridos",variant:"destructive"});return}const e=parseFloat(u.amount);if(e<=0||e>p){(0,N.oR)({title:"Error",description:"Monto inv\xe1lido o insuficiente balance",variant:"destructive"});return}const s=aX.find(e=>e.id===u.recipient);const t={id:"TXN".concat(String(a.length+1).padStart(3,"0")),type:"Transferencia Enviada",from:"Usuario Actual",to:(s===null||s===void 0?void 0:s.name)||"Usuario",amount:-e,balance:p-e,date:new Date().toLocaleString("es-MX"),status:"Completado",reference:u.reference||"REF".concat(String(a.length+1).padStart(3,"0"))};l([t,...a]);o(false);j({recipient:"",amount:"",reference:"",notes:""});(0,N.oR)({title:"Transferencia Completada",description:"$".concat(e.toFixed(2)," transferidos exitosamente")})};return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,t.jsx)(W.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Sistema de Balance"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Gestionar transferencias y balance de usuarios"})]})]}),(0,t.jsxs)(ew,{open:i,onOpenChange:o,children:[(0,t.jsx)(eA,{asChild:true,children:(0,t.jsxs)(g,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(a$.A,{className:"mr-2 h-5 w-5"}),"Transferir Balance"]})}),(0,t.jsxs)(eT,{className:"max-w-2xl",children:[(0,t.jsx)(eD,{className:"pb-6",children:(0,t.jsxs)(eP,{className:"text-2xl font-bold flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,t.jsx)(a$.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Transferir Balance"}),(0,t.jsx)("p",{className:"text-sm font-normal text-gray-600 mt-1",children:"Enviar balance a otro usuario del sistema"})]})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border border-green-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(W.A,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-green-800",children:"\uD83D\uDCB0 Balance Disponible"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-700",children:["$",p.toFixed(2)]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"recipient",className:"text-base font-semibold",children:"Destinatario"}),(0,t.jsxs)(sO,{value:u.recipient,onValueChange:e=>j({...u,recipient:e}),children:[(0,t.jsx)(sG,{className:"h-12",children:(0,t.jsx)(sB,{placeholder:"Seleccionar usuario..."})}),(0,t.jsx)(sU,{children:aX.map(e=>(0,t.jsx)(sH,{value:e.id,children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.role==="Admin"?"bg-purple-500":"bg-blue-500")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.role," • Balance: $",e.balance.toFixed(2)]})]})]})},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"amount",className:"text-base font-semibold",children:"Monto a Transferir"}),(0,t.jsx)(eQ,{id:"amount",type:"number",placeholder:"0.00",value:u.amount,onChange:e=>j({...u,amount:e.target.value}),className:"h-12 text-lg",min:"0",max:p,step:"0.01"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"reference",className:"text-base font-semibold",children:"Referencia (Opcional)"}),(0,t.jsx)(eQ,{id:"reference",placeholder:"Referencia de la transferencia...",value:u.reference,onChange:e=>j({...u,reference:e.target.value}),className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"notes",className:"text-base font-semibold",children:"Notas (Opcional)"}),(0,t.jsx)(eQ,{id:"notes",placeholder:"Comentarios adicionales...",value:u.notes,onChange:e=>j({...u,notes:e.target.value}),className:"h-12"})]}),(0,t.jsx)("div",{className:"p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(sN.A,{className:"h-5 w-5 text-yellow-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-yellow-800",children:"⚠️ Importante"}),(0,t.jsx)("p",{className:"text-sm text-yellow-700",children:"Las transferencias son irreversibles. Verifique los datos antes de confirmar."})]})]})}),(0,t.jsx)(I,{}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>o(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:b,size:"lg",className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(a$.A,{className:"mr-2 h-5 w-5"}),"Confirmar Transferencia"]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Balance Actual"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["$",p.toFixed(2)]})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(W.A,{className:"h-6 w-6 text-green-600"})})]})})}),(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Enviado Hoy"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-red-600",children:["$",Math.abs(v.filter(e=>e.amount<0&&e.date.includes(new Date().toISOString().split("T")[0])).reduce((e,s)=>e+s.amount,0)).toFixed(2)]})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(aH.A,{className:"h-6 w-6 text-red-600"})})]})})}),(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Recibido Hoy"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:["$",v.filter(e=>e.amount>0&&e.date.includes(new Date().toISOString().split("T")[0])).reduce((e,s)=>e+s.amount,0).toFixed(2)]})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(sv.A,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Transacciones"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:v.length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(B.A,{className:"h-6 w-6 text-purple-600"})})]})})})]}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eW.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(eQ,{placeholder:"Buscar transacciones...",value:x,onChange:e=>h(e.target.value),className:"pl-12 h-12 text-base"})]})})}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{children:["Historial de Transacciones (",v.length,")"]}),(0,t.jsxs)(f,{variant:"outline",className:"text-sm",children:["Balance: $",p.toFixed(2)]})]})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"ID"}),(0,t.jsx)(sl,{children:"Tipo"}),(0,t.jsx)(sl,{children:"De"}),(0,t.jsx)(sl,{children:"Para"}),(0,t.jsx)(sl,{children:"Monto"}),(0,t.jsx)(sl,{children:"Balance"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Referencia"}),(0,t.jsx)(sl,{children:"Fecha"}),(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:v.map(e=>(0,t.jsxs)(sr,{className:"hover:bg-gray-50",children:[(0,t.jsx)(si,{className:"font-medium",children:e.id}),(0,t.jsx)(si,{children:e.type}),(0,t.jsx)(si,{children:e.from}),(0,t.jsx)(si,{children:e.to}),(0,t.jsxs)(si,{className:"font-semibold ".concat(e.amount>=0?"text-green-600":"text-red-600"),children:[e.amount>=0?"+":"","$",e.amount.toFixed(2)]}),(0,t.jsxs)(si,{className:"font-medium",children:["$",e.balance.toFixed(2)]}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{className:aq[e.status],children:e.status})}),(0,t.jsx)(si,{className:"font-mono text-sm",children:e.reference}),(0,t.jsx)(si,{className:"text-sm text-gray-600",children:e.date}),(0,t.jsx)(si,{children:(0,t.jsx)(g,{variant:"ghost",size:"sm",title:"Ver detalles",children:(0,t.jsx)(ai.A,{className:"h-4 w-4"})})})]},e.id))})]})})]})]})}var aK=a(15933);var aZ=a(50713);var aY=a(63739);function aQ(){const e=(0,aK._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);aQ=function(){return e};return e}function a0(){const e=(0,aK._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);a0=function(){return e};return e}function a2(e){let{className:s,classNames:a,showOutsideDays:r=true,captionLayout:l="label",buttonVariant:n="ghost",formatters:c,components:d,...o}=e;const x=(0,aZ.a)();return(0,t.jsx)(aY.h,{showOutsideDays:r,className:(0,i.cn)("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(aQ()),String.raw(a0()),s),captionLayout:l,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...c},classNames:{root:(0,i.cn)("w-fit",x.root),months:(0,i.cn)("flex gap-4 flex-col md:flex-row relative",x.months),month:(0,i.cn)("flex flex-col w-full gap-4",x.month),nav:(0,i.cn)("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",x.nav),button_previous:(0,i.cn)(p({variant:n}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",x.button_previous),button_next:(0,i.cn)(p({variant:n}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",x.button_next),month_caption:(0,i.cn)("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",x.month_caption),dropdowns:(0,i.cn)("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",x.dropdowns),dropdown_root:(0,i.cn)("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",x.dropdown_root),dropdown:(0,i.cn)("absolute bg-popover inset-0 opacity-0",x.dropdown),caption_label:(0,i.cn)("select-none font-medium",l==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",x.caption_label),table:"w-full border-collapse",weekdays:(0,i.cn)("flex",x.weekdays),weekday:(0,i.cn)("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",x.weekday),week:(0,i.cn)("flex w-full mt-2",x.week),week_number_header:(0,i.cn)("select-none w-(--cell-size)",x.week_number_header),week_number:(0,i.cn)("text-[0.8rem] select-none text-muted-foreground",x.week_number),day:(0,i.cn)("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",x.day),range_start:(0,i.cn)("rounded-l-md bg-accent",x.range_start),range_middle:(0,i.cn)("rounded-none",x.range_middle),range_end:(0,i.cn)("rounded-r-md bg-accent",x.range_end),today:(0,i.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",x.today),outside:(0,i.cn)("text-muted-foreground aria-selected:text-muted-foreground",x.outside),disabled:(0,i.cn)("text-muted-foreground opacity-50",x.disabled),hidden:(0,i.cn)("invisible",x.hidden),...a},components:{Root:e=>{let{className:s,rootRef:a,...r}=e;return(0,t.jsx)("div",{"data-slot":"calendar",ref:a,className:(0,i.cn)(s),...r})},Chevron:e=>{let{className:s,orientation:a,...r}=e;if(a==="left"){return(0,t.jsx)(ea.A,{className:(0,i.cn)("size-4",s),...r})}if(a==="right"){return(0,t.jsx)(es.A,{className:(0,i.cn)("size-4",s),...r})}return(0,t.jsx)(sF.A,{className:(0,i.cn)("size-4",s),...r})},DayButton:a1,WeekNumber:e=>{let{children:s,...a}=e;return(0,t.jsx)("td",{...a,children:(0,t.jsx)("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:s})})},...d},...o})}function a1(e){let{className:s,day:a,modifiers:l,...n}=e;const c=(0,aZ.a)();const d=r.useRef(null);r.useEffect(()=>{var e;if(l.focused)(e=d.current)===null||e===void 0?void 0:e.focus()},[l.focused]);return(0,t.jsx)(g,{ref:d,variant:"ghost",size:"icon","data-day":a.date.toLocaleDateString(),"data-selected-single":l.selected&&!l.range_start&&!l.range_end&&!l.range_middle,"data-range-start":l.range_start,"data-range-end":l.range_end,"data-range-middle":l.range_middle,className:(0,i.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",c.day,s),...n})}var a6=a(52736);function a5(e){let{...s}=e;return(0,t.jsx)(a6.bL,{"data-slot":"popover",...s})}function a4(e){let{...s}=e;return(0,t.jsx)(a6.l9,{"data-slot":"popover-trigger",...s})}function a3(e){let{className:s,align:a="center",sideOffset:r=4,...l}=e;return(0,t.jsx)(a6.ZL,{children:(0,t.jsx)(a6.UC,{"data-slot":"popover-content",align:a,sideOffset:r,className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",s),...l})})}function a8(e){let{...s}=e;return _jsx(PopoverPrimitive.Anchor,{"data-slot":"popover-anchor",...s})};function a7(e){let{className:s}=e;const[a,l]=r.useState({from:new Date(2024,0,1),to:new Date(2024,0,31)});return(0,t.jsx)("div",{className:(0,i.cn)("grid gap-2",s),children:(0,t.jsxs)(a5,{children:[(0,t.jsx)(a4,{asChild:true,children:(0,t.jsxs)(g,{id:"date",variant:"outline",className:(0,i.cn)("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[(0,t.jsx)(ao.A,{className:"mr-2 h-4 w-4"}),(a===null||a===void 0?void 0:a.from)?a.to?(0,t.jsxs)(t.Fragment,{children:[a.from.toLocaleDateString()," - ",a.to.toLocaleDateString()]}):a.from.toLocaleDateString():(0,t.jsx)("span",{children:"Seleccionar fechas"})]})}),(0,t.jsx)(a3,{className:"w-auto p-0",align:"start",children:(0,t.jsx)(a2,{initialFocus:true,mode:"range",defaultMonth:a===null||a===void 0?void 0:a.from,selected:a,onSelect:l,numberOfMonths:2})})]})})}var a9=a(15312);const te=r.forwardRef((e,s)=>{let{className:a,value:r,...l}=e;return(0,t.jsx)(a9.bL,{ref:s,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,t.jsx)(a9.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});te.displayName=a9.bL.displayName;var ts=a(1482);function ta(e){let{userRole:s}=e;var a,l,i,o,x,h,u,j;const[p,v]=(0,r.useState)(null);const[f,b]=(0,r.useState)("all");const[y,A]=(0,r.useState)("all");const[C,S]=(0,r.useState)(false);const[k,T]=(0,r.useState)(0);const[D,z]=(0,r.useState)(false);const[P,M]=(0,r.useState)("");const[E,R]=(0,r.useState)({includeCharts:true,includeDetails:true,groupByDate:true,includeComparisons:false,emailReport:false,reportEmail:""});const I=[{id:"tickets",name:"Reporte de Tickets",description:"An\xe1lisis completo de tickets de soporte",icon:"\uD83C\uDFAB",estimatedTime:"2-3 minutos",fields:["Estado","Prioridad","Tiempo de resoluci\xf3n","Agente asignado"],color:"blue"},{id:"sims",name:"Reporte de SIMs",description:"Estado y movimientos de tarjetas SIM",icon:"\uD83D\uDCF1",estimatedTime:"1-2 minutos",fields:["Estado","Operador","Plan asignado","Fecha de activaci\xf3n"],color:"purple"},{id:"transactions",name:"Reporte de Transacciones",description:"An\xe1lisis financiero y de transacciones",icon:"\uD83D\uDCB0",estimatedTime:"3-5 minutos",fields:["Tipo","Monto","Estado","M\xe9todo de pago"],color:"green"},{id:"webhooks",name:"Reporte de Webhooks",description:"Estado y rendimiento de webhooks",icon:"\uD83D\uDD17",estimatedTime:"1-2 minutos",fields:["Endpoint","Estado","Tiempo de respuesta","Errores"],color:"orange"},{id:"earnings",name:"Reporte de Ganancias",description:"An\xe1lisis de rentabilidad y comisiones",icon:"\uD83D\uDCC8",estimatedTime:"2-4 minutos",fields:["Ingresos","Comisiones","Costos","Margen"],color:"indigo"},{id:"users",name:"Reporte de Usuarios",description:"Actividad y rendimiento de usuarios",icon:"\uD83D\uDC65",estimatedTime:"1-2 minutos",fields:["Actividad","Rendimiento","Accesos","Permisos"],color:"pink"}];const F=async e=>{S(true);T(0);const s=I.find(s=>s.id===e);const a=[{progress:15,message:"Conectando a la base de datos..."},{progress:30,message:"Extrayendo datos..."},{progress:50,message:"Procesando informaci\xf3n..."},{progress:70,message:"Generando gr\xe1ficos..."},{progress:85,message:"Aplicando formato..."},{progress:100,message:"Finalizando reporte..."}];for(const e of a){await new Promise(e=>setTimeout(e,800));T(e.progress)}setTimeout(()=>{S(false);z(false);T(0);(0,N.oR)({title:"✅ Reporte generado exitosamente",description:"El ".concat(s===null||s===void 0?void 0:s.name," ha sido creado y est\xe1 listo para descargar")});if(E.emailReport&&E.reportEmail){setTimeout(()=>{(0,N.oR)({title:"\uD83D\uDCE7 Reporte enviado por email",description:"El reporte ha sido enviado a ".concat(E.reportEmail)})},1500)}R({includeCharts:true,includeDetails:true,groupByDate:true,includeComparisons:false,emailReport:false,reportEmail:""})},500)};const L=e=>{M(e);z(true);T(0);S(false)};const _=e=>{(0,N.oR)({title:"\uD83D\uDCC4 Exportando ".concat(e.toUpperCase()),description:"El archivo se descargar\xe1 en unos momentos"});setTimeout(()=>{(0,N.oR)({title:"✅ Descarga completada",description:"El archivo ".concat(e.toUpperCase()," ha sido descargado exitosamente")})},2e3)};const O=()=>{(0,N.oR)({title:"\uD83D\uDD0D Filtros aplicados",description:"Los datos han sido filtrados seg\xfan los criterios seleccionados"})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Reportes"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Generar y exportar reportes del sistema"})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(g,{variant:"outline",className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:()=>_("csv"),children:[(0,t.jsx)(aC.A,{className:"mr-2 h-4 w-4"}),"Exportar CSV"]}),(0,t.jsxs)(g,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:()=>_("pdf"),children:[(0,t.jsx)(ak.A,{className:"mr-2 h-4 w-4"}),"Exportar PDF"]})]})]}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center space-x-2",children:[(0,t.jsx)(ts.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Filtros de Reporte"})]})}),(0,t.jsx)(m,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(sR,{htmlFor:"dateRange",className:"flex items-center space-x-2",children:[(0,t.jsx)(ao.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Rango de Fechas"})]}),(0,t.jsx)(a7,{})]}),["superadmin","admin"].includes(s)&&(0,t.jsxs)("div",{children:[(0,t.jsxs)(sR,{htmlFor:"user",className:"flex items-center space-x-2",children:[(0,t.jsx)(w.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Usuario"})]}),(0,t.jsxs)(sO,{value:f,onValueChange:b,children:[(0,t.jsx)(sG,{children:(0,t.jsx)(sB,{placeholder:"Seleccionar usuario"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"all",children:"Todos los usuarios"}),(0,t.jsx)(sH,{value:"juan",children:"Juan P\xe9rez"}),(0,t.jsx)(sH,{value:"maria",children:"Mar\xeda Garc\xeda"}),(0,t.jsx)(sH,{value:"carlos",children:"Carlos L\xf3pez"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"category",children:"Categor\xeda"}),(0,t.jsxs)(sO,{value:y,onValueChange:A,children:[(0,t.jsx)(sG,{children:(0,t.jsx)(sB,{placeholder:"Seleccionar categor\xeda"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"all",children:"Todas las categor\xedas"}),(0,t.jsx)(sH,{value:"activations",children:"Activaciones"}),(0,t.jsx)(sH,{value:"recharges",children:"Recargas"}),(0,t.jsx)(sH,{value:"tickets",children:"Tickets"}),(0,t.jsx)(sH,{value:"balance",children:"Balance"})]})]})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)(g,{className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:O,children:[(0,t.jsx)(Z.A,{className:"mr-2 h-4 w-4"}),"Aplicar Filtros"]})})]})})]}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Generaci\xf3n R\xe1pida de Reportes"})}),(0,t.jsx)(m,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-all duration-300 hover:scale-105",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-".concat(e.color,"-100 rounded-lg flex items-center justify-center"),children:(0,t.jsx)("span",{className:"text-2xl",children:e.icon})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]})]})}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("p",{className:"text-xs text-gray-500 flex items-center",children:[(0,t.jsx)(ax.A,{className:"h-3 w-3 mr-1"}),e.estimatedTime]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.fields.slice(0,2).map((e,s)=>(0,t.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e},s)),e.fields.length>2&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.fields.length-2," m\xe1s"]})]})]}),(0,t.jsxs)(g,{size:"sm",className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:()=>L(e.id),children:[(0,t.jsx)(Z.A,{className:"mr-2 h-3 w-3"}),"Generar Reporte"]})]},e.id))})})]}),(0,t.jsxs)(e3,{defaultValue:"tickets",className:"space-y-4",children:[(0,t.jsxs)(e8,{children:[(0,t.jsxs)(e7,{value:"tickets",className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:"\uD83C\uDFAB"}),(0,t.jsx)("span",{children:"Tickets"})]}),(0,t.jsxs)(e7,{value:"sims",className:"flex items-center space-x-2",children:[(0,t.jsx)(ay.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"SIMs"})]}),(0,t.jsxs)(e7,{value:"transactions",className:"flex items-center space-x-2",children:[(0,t.jsx)(H.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Transacciones"})]}),(0,t.jsxs)(e7,{value:"webhooks",className:"flex items-center space-x-2",children:[(0,t.jsx)(Y.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Webhooks"})]}),(0,t.jsxs)(e7,{value:"earnings",className:"flex items-center space-x-2",children:[(0,t.jsx)(sv.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Ganancias"})]})]}),(0,t.jsx)(e9,{value:"tickets",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Reporte de Tickets"}),(0,t.jsxs)(g,{size:"sm",variant:"outline",onClick:()=>L("tickets"),children:[(0,t.jsx)(ai.A,{className:"mr-2 h-4 w-4"}),"Ver Detalle"]})]})}),(0,t.jsxs)(m,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"45"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Tickets Creados"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"38"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Tickets Resueltos"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:"2.5h"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Tiempo Promedio"})]})]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Datos detallados del per\xedodo seleccionado..."})]})]})}),(0,t.jsx)(e9,{value:"sims",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Reporte de SIMs"}),(0,t.jsxs)(g,{size:"sm",variant:"outline",onClick:()=>L("sims"),children:[(0,t.jsx)(ai.A,{className:"mr-2 h-4 w-4"}),"Ver Detalle"]})]})}),(0,t.jsxs)(m,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"1,247"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Disponibles"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"2,156"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Activas"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:"89"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Suspendidas"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:"234"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Reservadas"})]})]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Distribuci\xf3n y movimientos de SIMs..."})]})]})}),(0,t.jsx)(e9,{value:"transactions",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Reporte de Transacciones"}),(0,t.jsxs)(g,{size:"sm",variant:"outline",onClick:()=>L("transactions"),children:[(0,t.jsx)(ai.A,{className:"mr-2 h-4 w-4"}),"Ver Detalle"]})]})}),(0,t.jsxs)(m,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"$45,231"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Ingresos Totales"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"1,234"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Transacciones"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"$36.65"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Ticket Promedio"})]})]}),(0,t.jsx)("p",{className:"text-gray-600",children:"An\xe1lisis detallado de transacciones..."})]})]})}),(0,t.jsx)(e9,{value:"webhooks",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Reporte de Webhooks"}),(0,t.jsxs)(g,{size:"sm",variant:"outline",onClick:()=>L("webhooks"),children:[(0,t.jsx)(ai.A,{className:"mr-2 h-4 w-4"}),"Ver Detalle"]})]})}),(0,t.jsxs)(m,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"98.5%"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Tasa de \xc9xito"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:"23"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Fallos"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"1,456"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Enviados"})]})]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Estado y rendimiento de webhooks..."})]})]})}),(0,t.jsx)(e9,{value:"earnings",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Reporte de Ganancias"}),(0,t.jsxs)(g,{size:"sm",variant:"outline",onClick:()=>L("earnings"),children:[(0,t.jsx)(ai.A,{className:"mr-2 h-4 w-4"}),"Ver Detalle"]})]})}),(0,t.jsxs)(m,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"$12,450"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Ganancias del Mes"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"$2,340"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Comisiones"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"+15%"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Crecimiento"})]})]}),(0,t.jsx)("p",{className:"text-gray-600",children:"An\xe1lisis de rentabilidad y comisiones..."})]})]})})]}),(0,t.jsx)(ew,{open:D,onOpenChange:z,children:(0,t.jsxs)(eT,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(eD,{children:[(0,t.jsxs)(eP,{className:"flex items-center space-x-3 text-2xl",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl",children:(a=I.find(e=>e.id===P))===null||a===void 0?void 0:a.icon})}),(0,t.jsxs)("span",{children:["Generar ",(l=I.find(e=>e.id===P))===null||l===void 0?void 0:l.name]})]}),(0,t.jsx)(eM,{className:"text-base",children:"Configura los par\xe1metros del reporte antes de generarlo"})]}),!C?(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(Z.A,{className:"h-4 w-4 text-blue-600"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Configuraci\xf3n del Reporte"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50",children:[(0,t.jsx)(sY,{id:"includeCharts",checked:E.includeCharts,onCheckedChange:e=>R(s=>({...s,includeCharts:e}))}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"includeCharts",className:"font-medium",children:"Incluir gr\xe1ficos"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Agregar visualizaciones y charts"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50",children:[(0,t.jsx)(sY,{id:"includeDetails",checked:E.includeDetails,onCheckedChange:e=>R(s=>({...s,includeDetails:e}))}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"includeDetails",className:"font-medium",children:"Incluir detalles"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Mostrar informaci\xf3n detallada"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50",children:[(0,t.jsx)(sY,{id:"groupByDate",checked:E.groupByDate,onCheckedChange:e=>R(s=>({...s,groupByDate:e}))}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"groupByDate",className:"font-medium",children:"Agrupar por fecha"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Organizar datos cronol\xf3gicamente"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50",children:[(0,t.jsx)(sY,{id:"includeComparisons",checked:E.includeComparisons,onCheckedChange:e=>R(s=>({...s,includeComparisons:e}))}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"includeComparisons",className:"font-medium",children:"Incluir comparaciones"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Comparar con per\xedodos anteriores"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(ad.A,{className:"h-4 w-4 text-green-600"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Configuraci\xf3n de Email"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50",children:[(0,t.jsx)(sY,{id:"emailReport",checked:E.emailReport,onCheckedChange:e=>R(s=>({...s,emailReport:e}))}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(sR,{htmlFor:"emailReport",className:"font-medium flex items-center space-x-2",children:(0,t.jsx)("span",{children:"Enviar por email"})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Recibir el reporte en tu correo electr\xf3nico"})]})]}),E.emailReport&&(0,t.jsxs)("div",{className:"ml-8",children:[(0,t.jsx)(sR,{htmlFor:"reportEmail",className:"text-sm font-medium",children:"Direcci\xf3n de email"}),(0,t.jsx)(eQ,{id:"reportEmail",placeholder:"correo@ejemplo.com",value:E.reportEmail,onChange:e=>R(s=>({...s,reportEmail:e.target.value})),className:"mt-2"})]})]}),(0,t.jsxs)("div",{className:"border rounded-xl p-6 bg-gradient-to-r from-blue-50 to-purple-50",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(ai.A,{className:"h-4 w-4 text-purple-600"})}),(0,t.jsx)("h4",{className:"text-xl font-semibold",children:"Vista Previa del Reporte"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:(i=I.find(e=>e.id===P))===null||i===void 0?void 0:i.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Tipo"}),(0,t.jsx)("p",{className:"text-gray-600",children:(o=I.find(e=>e.id===P))===null||o===void 0?void 0:o.name})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ao.A,{className:"h-5 w-5 text-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Per\xedodo"}),(0,t.jsx)("p",{className:"text-gray-600",children:p?"Rango personalizado":"\xdaltimo mes"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ax.A,{className:"h-5 w-5 text-orange-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Tiempo estimado"}),(0,t.jsx)("p",{className:"text-gray-600",children:(x=I.find(e=>e.id===P))===null||x===void 0?void 0:x.estimatedTime})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(aC.A,{className:"h-5 w-5 text-green-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Campos incluidos"}),(0,t.jsxs)("p",{className:"text-gray-600",children:[(h=I.find(e=>e.id===P))===null||h===void 0?void 0:h.fields.length," campos"]})]})]})]}),(0,t.jsxs)("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Campos del reporte:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:(u=I.find(e=>e.id===P))===null||u===void 0?void 0:u.fields.map((e,s)=>(0,t.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:e},s))})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>z(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:()=>F(P),size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[(0,t.jsx)(Z.A,{className:"mr-2 h-4 w-4"}),"Generar Reporte"]})]})]}):(0,t.jsxs)("div",{className:"space-y-8 py-12",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:(0,t.jsx)("span",{className:"text-3xl",children:(j=I.find(e=>e.id===P))===null||j===void 0?void 0:j.icon})}),(0,t.jsx)("h3",{className:"text-2xl font-bold mb-3",children:"Generando Reporte"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8 text-lg",children:"Procesando datos y creando tu reporte personalizado..."}),(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,t.jsx)(te,{value:k,className:"h-4 mb-4"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-blue-600",children:[Math.round(k),"% completado"]})]})]}),(0,t.jsxs)("div",{className:"text-center space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(ax.A,{className:"h-5 w-5 text-gray-500"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Tiempo estimado restante: ",Math.max(0,Math.round((100-k)/20))," segundos"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(sN.A,{className:"h-4 w-4 text-orange-500"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"No cierres esta ventana durante el proceso"})]})]}),(0,t.jsxs)("div",{className:"max-w-md mx-auto space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,t.jsx)(at.A,{className:"h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Conectando a la base de datos"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,t.jsx)(at.A,{className:"h-4 w-4 ".concat(k>30?"text-green-500":"text-gray-300")}),(0,t.jsx)("span",{className:k>30?"text-gray-600":"text-gray-400",children:"Extrayendo datos"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,t.jsx)(at.A,{className:"h-4 w-4 ".concat(k>50?"text-green-500":"text-gray-300")}),(0,t.jsx)("span",{className:k>50?"text-gray-600":"text-gray-400",children:"Procesando informaci\xf3n"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,t.jsx)(at.A,{className:"h-4 w-4 ".concat(k>70?"text-green-500":"text-gray-300")}),(0,t.jsx)("span",{className:k>70?"text-gray-600":"text-gray-400",children:"Generando gr\xe1ficos"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,t.jsx)(at.A,{className:"h-4 w-4 ".concat(k>85?"text-green-500":"text-gray-300")}),(0,t.jsx)("span",{className:k>85?"text-gray-600":"text-gray-400",children:"Aplicando formato"})]})]})]})]})})]})}var tt=a(35169);var tr=a(92138);const tl=[{id:"ACT001",type:"Activaci\xf3n",customer:"Mar\xeda L\xf3pez",customerPhone:"+52 55 1234 5678",sim:"8934071234567890123",plan:"Plan B\xe1sico 500MB",amount:"$25.00",status:"Completado",date:"2024-01-15 14:30",operator:"Juan P\xe9rez"},{id:"REC001",type:"Recarga",customer:"Carlos Garc\xeda",customerPhone:"+52 55 2345 6789",sim:"8934071234567890124",plan:"Recarga $20",amount:"$20.00",status:"Pendiente",date:"2024-01-15 14:25",operator:"Ana Mart\xedn"}];const ti=[{id:"CUST001",name:"Mar\xeda L\xf3pez",phone:"+52 55 1234 5678",email:"maria@email.com",status:"Activo"},{id:"CUST002",name:"Carlos Garc\xeda",phone:"+52 55 2345 6789",email:"carlos@email.com",status:"Activo"},{id:"CUST003",name:"Luis Rodr\xedguez",phone:"+52 55 3456 7890",email:"luis@email.com",status:"Activo"}];const tn=[{id:"SIM001",iccid:"8934071234567890123",msisdn:"+52 55 1234 5678",status:"Disponible",operator:"Telcel"},{id:"SIM002",iccid:"8934071234567890124",msisdn:"+52 55 1234 5679",status:"Disponible",operator:"AT&T"},{id:"SIM003",iccid:"8934071234567890125",msisdn:"+52 55 1234 5680",status:"Disponible",operator:"Movistar"}];const tc=[{id:"PLAN001",name:"Plan B\xe1sico 500MB",price:25,description:"500MB + 100 min + 50 SMS",duration:"30 d\xedas"},{id:"PLAN002",name:"Plan Premium 2GB",price:35,description:"2GB + 300 min + 200 SMS",duration:"30 d\xedas"},{id:"PLAN003",name:"Plan Empresarial 5GB",price:50,description:"5GB + 500 min + 500 SMS",duration:"30 d\xedas"}];const td={Completado:"bg-green-100 text-green-800",Pendiente:"bg-yellow-100 text-yellow-800",Fallido:"bg-red-100 text-red-800"};const to={Completado:at.A,Pendiente:ax.A,Fallido:aS.A};const tx={1:A.A,2:ay.A,3:H.A,4:aC.A};const tm={1:"Seleccionar Cliente",2:"Configurar SIM",3:"Elegir Plan",4:"Confirmar Operaci\xf3n"};function th(e){let{type:s,userRole:a}=e;const[l,i]=(0,r.useState)(tl);const[o,x]=(0,r.useState)(false);const[h,u]=(0,r.useState)(false);const[j,p]=(0,r.useState)("");const[v,b]=(0,r.useState)(null);const[y,w]=(0,r.useState)(1);const[C,S]=(0,r.useState)(false);const[k,T]=(0,r.useState)(0);const[D,z]=(0,r.useState)({customer:"",customerName:"",customerPhone:"",customerEmail:"",sim:"",simIccid:"",msisdn:"",operator:"",plan:"",planName:"",planDescription:"",amount:"",notes:""});const P=s==="activations"?"Activaciones":"Recargas";const M=s==="activations"?V.A:B.A;const E=l.filter(e=>s==="activations"?e.type==="Activaci\xf3n":e.type==="Recarga").filter(e=>e.customer.toLowerCase().includes(j.toLowerCase())||e.id.toLowerCase().includes(j.toLowerCase())||e.sim.includes(j));const R=e=>{const s=ti.find(s=>s.id===e);if(s){z({...D,customer:e,customerName:s.name,customerPhone:s.phone,customerEmail:s.email})}};const F=e=>{const s=tn.find(s=>s.id===e);if(s){z({...D,sim:e,simIccid:s.iccid,msisdn:s.msisdn,operator:s.operator})}};const L=e=>{const s=tc.find(s=>s.id===e);if(s){z({...D,plan:e,planName:s.name,planDescription:s.description,amount:"$".concat(s.price.toFixed(2))})}};const _=()=>{if(y===1&&!D.customer){(0,N.oR)({title:"Error",description:"Por favor seleccione un cliente",variant:"destructive"});return}if(y===2&&!D.sim){(0,N.oR)({title:"Error",description:"Por favor seleccione una SIM",variant:"destructive"});return}if(y===3&&!D.plan){(0,N.oR)({title:"Error",description:"Por favor seleccione un plan",variant:"destructive"});return}w(y+1)};const O=()=>{w(y-1)};const G=async()=>{S(true);T(0);const e=setInterval(()=>{T(a=>{if(a>=100){clearInterval(e);const a={id:s==="activations"?"ACT".concat(String(l.length+1).padStart(3,"0")):"REC".concat(String(l.length+1).padStart(3,"0")),type:s==="activations"?"Activaci\xf3n":"Recarga",customer:D.customerName,customerPhone:D.customerPhone,sim:D.simIccid,plan:D.planName,amount:D.amount,status:"Completado",date:new Date().toLocaleString("es-MX"),operator:"Usuario Actual"};i([a,...l]);x(false);S(false);w(1);z({customer:"",customerName:"",customerPhone:"",customerEmail:"",sim:"",simIccid:"",msisdn:"",operator:"",plan:"",planName:"",planDescription:"",amount:"",notes:""});(0,N.oR)({title:"".concat(s==="activations"?"Activaci\xf3n":"Recarga"," Completada"),description:"".concat(s==="activations"?"Activaci\xf3n":"Recarga"," ").concat(a.id," procesada exitosamente")});return 100}return a+Math.random()*15})},300)};const U=e=>{b(e);u(true)};const $=e=>{i(l.map(s=>s.id===e?{...s,status:"Pendiente"}:s));(0,N.oR)({title:"Reintentando Operaci\xf3n",description:"Procesando ".concat(e,"...")});setTimeout(()=>{i(s=>s.map(s=>s.id===e?{...s,status:"Completado"}:s));(0,N.oR)({title:"Operaci\xf3n Completada",description:"".concat(e," procesada exitosamente")})},2e3)};const J=()=>{w(1);S(false);T(0);z({customer:"",customerName:"",customerPhone:"",customerEmail:"",sim:"",simIccid:"",msisdn:"",operator:"",plan:"",planName:"",planDescription:"",amount:"",notes:""})};return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,t.jsx)(M,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:P}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Gestionar ",P.toLowerCase()," de l\xedneas m\xf3viles"]})]})]}),(0,t.jsxs)(ew,{open:o,onOpenChange:e=>{x(e);if(!e)J()},children:[(0,t.jsx)(eA,{asChild:true,children:(0,t.jsxs)(g,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg",children:[(0,t.jsx)(sD.A,{className:"mr-2 h-5 w-5"}),"Nueva ",s==="activations"?"Activaci\xf3n":"Recarga"]})}),(0,t.jsxs)(eT,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(eD,{className:"pb-6",children:(0,t.jsxs)(eP,{className:"text-2xl font-bold flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(M,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("span",{children:["Nueva ",s==="activations"?"Activaci\xf3n":"Recarga"]})]})}),!C?(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:[1,2,3,4].map(e=>{const s=tx[e];const a=e===y;const r=e<y;return(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,t.jsxs)("div",{className:"relative w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 ".concat(a?"bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg scale-110":r?"bg-green-500 text-white shadow-md":"bg-gray-200 text-gray-500"),children:[r?(0,t.jsx)(at.A,{className:"h-6 w-6"}):(0,t.jsx)(s,{className:"h-6 w-6"}),a&&(0,t.jsx)("div",{className:"absolute inset-0 rounded-full bg-blue-500 animate-ping opacity-25"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("p",{className:"text-sm font-medium ".concat(a?"text-blue-600":r?"text-green-600":"text-gray-500"),children:["Paso ",e]}),(0,t.jsx)("p",{className:"text-xs ".concat(a?"text-blue-500":r?"text-green-500":"text-gray-400"),children:tm[e]})]})]},e)})}),(0,t.jsx)("div",{className:"absolute top-6 left-6 right-6 h-0.5 bg-gray-200 -z-10",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-500",style:{width:"".concat((y-1)/3*100,"%")}})})]}),(0,t.jsx)(I,{}),(0,t.jsxs)("div",{className:"min-h-[400px]",children:[y===1&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)(A.A,{className:"h-16 w-16 text-blue-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Seleccionar Cliente"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Elige el cliente para esta ",s==="activations"?"activaci\xf3n":"recarga"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"customerSearch",className:"text-base font-semibold",children:"Buscar Cliente"}),(0,t.jsx)(eQ,{id:"customerSearch",placeholder:"Buscar por nombre o tel\xe9fono...",className:"h-12",onChange:e=>{const s=e.target.value.toLowerCase()}})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"customerSelect",className:"text-base font-semibold",children:"Cliente"}),(0,t.jsxs)(sO,{value:D.customer,onValueChange:R,children:[(0,t.jsx)(sG,{className:"h-12",children:(0,t.jsx)(sB,{placeholder:"Seleccionar cliente..."})}),(0,t.jsx)(sU,{children:ti.map(e=>(0,t.jsx)(sH,{value:e.id,children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(A.A,{className:"h-4 w-4 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.phone})]})]})},e.id))})]})]})]}),D.customer&&(0,t.jsx)("div",{className:"mt-6 p-6 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border border-green-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(at.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-green-800 text-lg",children:"Cliente Seleccionado"}),(0,t.jsx)("p",{className:"text-green-700 font-medium",children:D.customerName}),(0,t.jsxs)("p",{className:"text-green-600",children:[D.customerPhone," • ",D.customerEmail]})]})]})})]}),y===2&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)(ay.A,{className:"h-16 w-16 text-blue-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configurar SIM"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Selecciona la tarjeta SIM para la activaci\xf3n"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"simSelect",className:"text-base font-semibold",children:"SIM Disponible"}),(0,t.jsxs)(sO,{value:D.sim,onValueChange:F,children:[(0,t.jsx)(sG,{className:"h-12",children:(0,t.jsx)(sB,{placeholder:"Seleccionar SIM..."})}),(0,t.jsx)(sU,{children:tn.map(e=>(0,t.jsx)(sH,{value:e.id,children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(ay.A,{className:"h-4 w-4 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-mono font-medium",children:e.iccid}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.operator," • ",e.status]})]})]})},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"msisdn",className:"text-base font-semibold",children:"N\xfamero Asignado"}),(0,t.jsx)(eQ,{id:"msisdn",value:D.msisdn,placeholder:"Se asignar\xe1 autom\xe1ticamente",className:"h-12 font-mono",readOnly:true})]})]}),D.sim&&(0,t.jsx)("div",{className:"mt-6 p-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl border border-purple-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(ay.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-purple-800 text-lg",children:"SIM Configurada"}),(0,t.jsx)("p",{className:"text-purple-700 font-mono font-medium",children:D.simIccid}),(0,t.jsxs)("p",{className:"text-purple-600",children:["MSISDN: ",D.msisdn," • Operador: ",D.operator]})]})]})})]}),y===3&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)(H.A,{className:"h-16 w-16 text-blue-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Elegir Plan"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Selecciona el plan o paquete de servicios"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:tc.map(e=>(0,t.jsxs)("div",{className:"relative p-6 rounded-xl border-2 cursor-pointer transition-all duration-300 ".concat(D.plan===e.id?"border-blue-500 bg-blue-50 shadow-lg scale-105":"border-gray-200 hover:border-blue-300 hover:shadow-md"),onClick:()=>L(e.id),children:[D.plan===e.id&&(0,t.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(at.A,{className:"h-4 w-4 text-white"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h4",{className:"font-bold text-lg mb-2",children:e.name}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",e.price]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Duraci\xf3n: ",e.duration]})]})]},e.id))}),D.plan&&(0,t.jsx)("div",{className:"mt-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(H.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-blue-800 text-lg",children:"Plan Seleccionado"}),(0,t.jsx)("p",{className:"text-blue-700 font-medium",children:D.planName}),(0,t.jsxs)("p",{className:"text-blue-600",children:[D.planDescription," • ",D.amount]})]})]})})]}),y===4&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)(aC.A,{className:"h-16 w-16 text-blue-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Confirmar Operaci\xf3n"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Revisa los detalles antes de procesar"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center space-x-2",children:[(0,t.jsx)(A.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Informaci\xf3n del Cliente"})]})}),(0,t.jsxs)(m,{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm text-gray-600",children:"Nombre"}),(0,t.jsx)("p",{className:"font-medium",children:D.customerName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm text-gray-600",children:"Tel\xe9fono"}),(0,t.jsx)("p",{className:"font-medium",children:D.customerPhone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm text-gray-600",children:"Email"}),(0,t.jsx)("p",{className:"font-medium",children:D.customerEmail})]})]})]}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center space-x-2",children:[(0,t.jsx)(ay.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Configuraci\xf3n SIM"})]})}),(0,t.jsxs)(m,{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm text-gray-600",children:"ICCID"}),(0,t.jsx)("p",{className:"font-mono font-medium",children:D.simIccid})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm text-gray-600",children:"MSISDN"}),(0,t.jsx)("p",{className:"font-mono font-medium",children:D.msisdn})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm text-gray-600",children:"Operador"}),(0,t.jsx)("p",{className:"font-medium",children:D.operator})]})]})]})]}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center space-x-2",children:[(0,t.jsx)(H.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Detalles del Plan"})]})}),(0,t.jsxs)(m,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm text-gray-600",children:"Plan"}),(0,t.jsx)("p",{className:"font-medium",children:D.planName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm text-gray-600",children:"Monto"}),(0,t.jsx)("p",{className:"font-bold text-green-600 text-xl",children:D.amount})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm text-gray-600",children:"Descripci\xf3n"}),(0,t.jsx)("p",{className:"text-gray-700",children:D.planDescription})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sR,{htmlFor:"notes",className:"text-base font-semibold",children:"Notas Adicionales (Opcional)"}),(0,t.jsx)(sQ,{id:"notes",placeholder:"Agregar comentarios o instrucciones especiales...",value:D.notes,onChange:e=>z({...D,notes:e.target.value}),className:"min-h-[100px]"})]})]})]}),(0,t.jsx)(I,{}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,t.jsx)("div",{children:y>1&&(0,t.jsxs)(g,{variant:"outline",onClick:O,size:"lg",children:[(0,t.jsx)(tt.A,{className:"mr-2 h-4 w-4"}),"Anterior"]})}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>x(false),size:"lg",children:"Cancelar"}),y<4?(0,t.jsxs)(g,{onClick:_,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:["Siguiente",(0,t.jsx)(tr.A,{className:"ml-2 h-4 w-4"})]}):(0,t.jsxs)(g,{onClick:G,size:"lg",className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700",children:[(0,t.jsx)(M,{className:"mr-2 h-5 w-5"}),s==="activations"?"Procesar Activaci\xf3n":"Procesar Recarga"]})]})]})]}):(0,t.jsxs)("div",{className:"space-y-8 py-12",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:(0,t.jsx)(M,{className:"h-10 w-10 text-white"})}),(0,t.jsxs)("h3",{className:"text-2xl font-bold mb-3",children:["Procesando ",s==="activations"?"Activaci\xf3n":"Recarga"]}),(0,t.jsx)("p",{className:"text-gray-600 mb-8",children:"Configurando servicios y activando la l\xednea m\xf3vil..."}),(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,t.jsx)(te,{value:k,className:"h-3 mb-4"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[Math.round(k),"% completado"]})]})]}),(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["⏳ Tiempo estimado restante: ",Math.max(0,Math.round((100-k)/20))," segundos"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"No cierres esta ventana durante el proceso"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Hoy"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:E.filter(e=>e.date.includes(new Date().toISOString().split("T")[0])).length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(M,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completadas"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-green-600",children:E.filter(e=>e.status==="Completado").length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(at.A,{className:"h-6 w-6 text-green-600"})})]})})}),(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pendientes"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:E.filter(e=>e.status==="Pendiente").length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(ax.A,{className:"h-6 w-6 text-yellow-600"})})]})})}),(0,t.jsx)(n,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:["$",E.filter(e=>e.status==="Completado").reduce((e,s)=>e+parseFloat(s.amount.replace("$","")),0).toFixed(2)]})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(B.A,{className:"h-6 w-6 text-purple-600"})})]})})})]}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eW.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(eQ,{placeholder:"Buscar ".concat(P.toLowerCase(),"..."),value:j,onChange:e=>p(e.target.value),className:"pl-12 h-12 text-base"})]})})}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{children:["Historial de ",P," (",E.length,")"]}),(0,t.jsxs)(f,{variant:"outline",className:"text-sm",children:[E.filter(e=>e.status==="Completado").length," completadas"]})]})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"ID"}),(0,t.jsx)(sl,{children:"Cliente"}),(0,t.jsx)(sl,{children:"SIM"}),(0,t.jsx)(sl,{children:"Plan"}),(0,t.jsx)(sl,{children:"Monto"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Operador"}),(0,t.jsx)(sl,{children:"Fecha"}),(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:E.map(e=>{const s=to[e.status];return(0,t.jsxs)(sr,{className:"hover:bg-gray-50",children:[(0,t.jsx)(si,{className:"font-medium",children:e.id}),(0,t.jsx)(si,{children:e.customer}),(0,t.jsx)(si,{className:"font-mono text-sm",children:e.sim}),(0,t.jsx)(si,{children:e.plan}),(0,t.jsx)(si,{className:"font-semibold",children:e.amount}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(s,{className:"h-4 w-4"}),(0,t.jsx)(f,{className:td[e.status],children:e.status})]})}),(0,t.jsx)(si,{children:e.operator}),(0,t.jsx)(si,{className:"text-sm text-gray-600",children:e.date}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>U(e),title:"Ver detalles",children:(0,t.jsx)(ai.A,{className:"h-4 w-4"})}),e.status==="Fallido"&&(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>$(e.id),title:"Reintentar",children:(0,t.jsx)(B.A,{className:"h-4 w-4"})})]})})]},e.id)})})]})})]}),v&&(0,t.jsx)(ew,{open:h,onOpenChange:u,children:(0,t.jsxs)(eT,{className:"max-w-2xl",children:[(0,t.jsx)(eD,{children:(0,t.jsxs)(eP,{className:"flex items-center space-x-2",children:[(0,t.jsx)(M,{className:"h-5 w-5"}),(0,t.jsxs)("span",{children:["Detalles de ",v.type," - ",v.id]})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Cliente"}),(0,t.jsx)("p",{className:"font-medium text-lg",children:v.customer})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Tel\xe9fono"}),(0,t.jsx)("p",{className:"font-mono",children:v.customerPhone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"SIM"}),(0,t.jsx)("p",{className:"font-mono",children:v.sim})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Plan"}),(0,t.jsx)("p",{children:v.plan})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Monto"}),(0,t.jsx)("p",{className:"font-bold text-green-600 text-xl",children:v.amount})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Estado"}),(0,t.jsx)(f,{className:td[v.status],children:v.status})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Operador"}),(0,t.jsx)("p",{children:v.operator})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{className:"text-sm font-medium text-gray-600",children:"Fecha"}),(0,t.jsx)("p",{children:v.date})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[v.status==="Fallido"&&(0,t.jsxs)(g,{onClick:()=>{$(v.id);u(false)},children:[(0,t.jsx)(B.A,{className:"mr-2 h-4 w-4"}),"Reintentar"]}),(0,t.jsx)(g,{variant:"outline",onClick:()=>u(false),children:"Cerrar"})]})]})]})})]})};const tu=[{id:1,name:"Plan B\xe1sico 500MB",type:"Principal",data:"500MB",minutes:"100 min",sms:"50 SMS",validity:"30 d\xedas",baseCost:"$20.00",retailPrice:"$25.00",status:"Activo"},{id:2,name:"Plan Premium 2GB",type:"Principal",data:"2GB",minutes:"300 min",sms:"150 SMS",validity:"30 d\xedas",baseCost:"$28.00",retailPrice:"$35.00",status:"Activo"},{id:3,name:"Plan Empresarial 5GB",type:"Principal",data:"5GB",minutes:"500 min",sms:"200 SMS",validity:"30 d\xedas",baseCost:"$40.00",retailPrice:"$50.00",status:"Activo"}];const tj=[{id:1,name:"Recarga $10",type:"Complementaria",linkedPlan:"Plan B\xe1sico 500MB",price:"$10.00",validity:"7 d\xedas",status:"Activo"},{id:2,name:"Recarga $20",type:"Complementaria",linkedPlan:"Plan Premium 2GB",price:"$20.00",validity:"15 d\xedas",status:"Activo"}];function tp(e){let{userRole:s}=e;const[a,l]=(0,r.useState)(false);const[i,o]=(0,r.useState)(false);const[x,h]=(0,r.useState)("");const{canPerformAction:u}=_();const j=u("plans.write");return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(G.A,{className:"h-5 w-5 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Planes y Ofertas"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Gestionar planes principales y ofertas complementarias"})]})]}),j&&(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(ew,{open:a,onOpenChange:l,children:[(0,t.jsx)(eA,{asChild:true,children:(0,t.jsxs)(g,{variant:"outline",className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(sD.A,{className:"mr-2 h-4 w-4"}),"Nuevo Plan"]})}),(0,t.jsxs)(eT,{className:"max-w-2xl",children:[(0,t.jsx)(eD,{className:"pb-6",children:(0,t.jsxs)(eP,{className:"text-2xl font-bold flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(G.A,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{children:"Crear Nuevo Plan"})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"planName",className:"text-base font-semibold",children:"Nombre del Plan"}),(0,t.jsx)(eQ,{id:"planName",placeholder:"Plan Premium 3GB",className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"planType",className:"text-base font-semibold",children:"Tipo"}),(0,t.jsxs)(sO,{children:[(0,t.jsx)(sG,{className:"h-12",children:(0,t.jsx)(sB,{placeholder:"Seleccionar tipo"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"principal",children:"Principal"}),(0,t.jsx)(sH,{value:"complementario",children:"Complementario"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"data",className:"text-base font-semibold",children:"Datos"}),(0,t.jsx)(eQ,{id:"data",placeholder:"3GB",className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"minutes",className:"text-base font-semibold",children:"Minutos"}),(0,t.jsx)(eQ,{id:"minutes",placeholder:"400 min",className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"sms",className:"text-base font-semibold",children:"SMS"}),(0,t.jsx)(eQ,{id:"sms",placeholder:"100 SMS",className:"h-12"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"validity",className:"text-base font-semibold",children:"Validez"}),(0,t.jsx)(eQ,{id:"validity",placeholder:"30 d\xedas",className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"baseCost",className:"text-base font-semibold",children:"Costo Base"}),(0,t.jsx)(eQ,{id:"baseCost",placeholder:"$30.00",className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"retailPrice",className:"text-base font-semibold",children:"Precio Venta"}),(0,t.jsx)(eQ,{id:"retailPrice",placeholder:"$40.00",className:"h-12"})]})]}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border border-blue-200",children:(0,t.jsxs)("p",{className:"text-sm text-blue-700",children:["\uD83D\uDCA1 ",(0,t.jsx)("strong",{children:"Tip:"})," Aseg\xfarate de que el precio de venta sea mayor al costo base para mantener rentabilidad."]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>l(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:()=>l(false),size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(G.A,{className:"mr-2 h-5 w-5"}),"Crear Plan"]})]})]})]})]}),(0,t.jsxs)(ew,{open:i,onOpenChange:o,children:[(0,t.jsx)(eA,{asChild:true,children:(0,t.jsxs)(g,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(sD.A,{className:"mr-2 h-4 w-4"}),"Nueva Oferta"]})}),(0,t.jsxs)(eT,{className:"max-w-2xl",children:[(0,t.jsx)(eD,{className:"pb-6",children:(0,t.jsxs)(eP,{className:"text-2xl font-bold flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(sD.A,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{children:"Crear Nueva Oferta"})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"offerName",className:"text-base font-semibold",children:"Nombre de la Oferta"}),(0,t.jsx)(eQ,{id:"offerName",placeholder:"Recarga $30",className:"h-12"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"offerType",className:"text-base font-semibold",children:"Tipo"}),(0,t.jsxs)(sO,{children:[(0,t.jsx)(sG,{className:"h-12",children:(0,t.jsx)(sB,{placeholder:"Seleccionar tipo"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"complementaria",children:"Complementaria"}),(0,t.jsx)(sH,{value:"promocional",children:"Promocional"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"linkedPlan",className:"text-base font-semibold",children:"Plan Vinculado"}),(0,t.jsxs)(sO,{children:[(0,t.jsx)(sG,{className:"h-12",children:(0,t.jsx)(sB,{placeholder:"Seleccionar plan"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"basic",children:"Plan B\xe1sico 500MB"}),(0,t.jsx)(sH,{value:"premium",children:"Plan Premium 2GB"}),(0,t.jsx)(sH,{value:"enterprise",children:"Plan Empresarial 5GB"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"offerPrice",className:"text-base font-semibold",children:"Precio"}),(0,t.jsx)(eQ,{id:"offerPrice",placeholder:"$30.00",className:"h-12"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(sR,{htmlFor:"offerValidity",className:"text-base font-semibold",children:"Validez"}),(0,t.jsx)(eQ,{id:"offerValidity",placeholder:"15 d\xedas",className:"h-12"})]}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-xl border border-green-200",children:(0,t.jsxs)("p",{className:"text-sm text-green-700",children:["\uD83C\uDFAF ",(0,t.jsx)("strong",{children:"Sugerencia:"})," Las ofertas complementarias ayudan a aumentar el valor promedio por cliente."]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>o(false),size:"lg",children:"Cancelar"}),(0,t.jsxs)(g,{onClick:()=>o(false),size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(sD.A,{className:"mr-2 h-5 w-5"}),"Crear Oferta"]})]})]})]})]})]})]}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eW.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(eQ,{placeholder:"Buscar planes y ofertas...",value:x,onChange:e=>h(e.target.value),className:"pl-10"})]})})}),(0,t.jsxs)(e3,{defaultValue:"plans",className:"space-y-4",children:[(0,t.jsxs)(e8,{children:[(0,t.jsx)(e7,{value:"plans",children:"Planes Principales"}),(0,t.jsx)(e7,{value:"offers",children:"Ofertas Complementarias"})]}),(0,t.jsx)(e9,{value:"plans",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Planes Principales"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"Nombre"}),(0,t.jsx)(sl,{children:"Datos"}),(0,t.jsx)(sl,{children:"Minutos"}),(0,t.jsx)(sl,{children:"SMS"}),(0,t.jsx)(sl,{children:"Validez"}),(0,t.jsx)(sl,{children:"Costo Base"}),(0,t.jsx)(sl,{children:"Precio Venta"}),(0,t.jsx)(sl,{children:"Estado"}),j&&(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:tu.map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.name}),(0,t.jsx)(si,{children:e.data}),(0,t.jsx)(si,{children:e.minutes}),(0,t.jsx)(si,{children:e.sms}),(0,t.jsx)(si,{children:e.validity}),(0,t.jsx)(si,{children:e.baseCost}),(0,t.jsx)(si,{className:"font-semibold text-green-600",children:e.retailPrice}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"default",children:e.status})}),j&&(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(g,{variant:"ghost",size:"sm",children:(0,t.jsx)(an.A,{className:"h-4 w-4"})}),(0,t.jsx)(g,{variant:"ghost",size:"sm",className:"text-red-600",children:(0,t.jsx)(ac.A,{className:"h-4 w-4"})})]})})]},e.id))})]})})]})}),(0,t.jsx)(e9,{value:"offers",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Ofertas Complementarias"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"Nombre"}),(0,t.jsx)(sl,{children:"Tipo"}),(0,t.jsx)(sl,{children:"Plan Vinculado"}),(0,t.jsx)(sl,{children:"Precio"}),(0,t.jsx)(sl,{children:"Validez"}),(0,t.jsx)(sl,{children:"Estado"}),j&&(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:tj.map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.name}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"outline",children:e.type})}),(0,t.jsx)(si,{children:e.linkedPlan}),(0,t.jsx)(si,{className:"font-semibold text-blue-600",children:e.price}),(0,t.jsx)(si,{children:e.validity}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"default",children:e.status})}),j&&(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(g,{variant:"ghost",size:"sm",children:(0,t.jsx)(an.A,{className:"h-4 w-4"})}),(0,t.jsx)(g,{variant:"ghost",size:"sm",className:"text-red-600",children:(0,t.jsx)(ac.A,{className:"h-4 w-4"})})]})})]},e.id))})]})})]})})]})]})};const tg=[{id:"BILL001",customer:"Mar\xeda L\xf3pez",period:"Enero 2024",amount:"$125.00",status:"Pagado",dueDate:"2024-01-31",paidDate:"2024-01-28"},{id:"BILL002",customer:"Carlos Garc\xeda",period:"Enero 2024",amount:"$89.50",status:"Pendiente",dueDate:"2024-01-31",paidDate:"-"}];const tv=[{id:"TXN001",type:"Activaci\xf3n",customer:"Mar\xeda L\xf3pez",amount:"$25.00",commission:"$2.50",status:"Completado",date:"2024-01-15 14:30",operator:"Juan P\xe9rez"},{id:"TXN002",type:"Recarga",customer:"Carlos Garc\xeda",amount:"$20.00",commission:"$1.50",status:"Completado",date:"2024-01-15 14:25",operator:"Ana Mart\xedn"}];function tf(e){let{type:s,userRole:a}=e;const[l,i]=(0,r.useState)("");const[o,x]=(0,r.useState)("all");const h=s==="billing"?"Facturaci\xf3n":"Transacciones";const u=s==="billing"?q.A:W.A;return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(u,{className:"h-5 w-5 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:h}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Gestionar ",h.toLowerCase()," y pagos"]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(g,{variant:"outline",className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(aC.A,{className:"mr-2 h-4 w-4"}),"Exportar"]}),(0,t.jsxs)(g,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(ak.A,{className:"mr-2 h-4 w-4"}),"Generar Reporte"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Hoy"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"$1,250"})]}),(0,t.jsx)(W.A,{className:"h-8 w-8 text-green-600"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Mes Actual"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"$15,430"})]}),(0,t.jsx)(ao.A,{className:"h-8 w-8 text-blue-600"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Comisiones"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"$1,543"})]}),(0,t.jsx)(q.A,{className:"h-8 w-8 text-purple-600"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pendientes"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:"$890"})]}),(0,t.jsx)(aC.A,{className:"h-8 w-8 text-yellow-600"})]})})})]}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eW.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(eQ,{placeholder:"Buscar ".concat(h.toLowerCase(),"..."),value:l,onChange:e=>i(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)(sO,{value:o,onValueChange:x,children:[(0,t.jsx)(sG,{className:"w-48",children:(0,t.jsx)(sB,{placeholder:"Estado"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"all",children:"Todos"}),(0,t.jsx)(sH,{value:"completado",children:"Completado"}),(0,t.jsx)(sH,{value:"pendiente",children:"Pendiente"}),(0,t.jsx)(sH,{value:"pagado",children:"Pagado"})]})]})]})})}),s==="billing"?(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Facturas"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"ID"}),(0,t.jsx)(sl,{children:"Cliente"}),(0,t.jsx)(sl,{children:"Per\xedodo"}),(0,t.jsx)(sl,{children:"Monto"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Vencimiento"}),(0,t.jsx)(sl,{children:"Fecha Pago"}),(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:tg.map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.id}),(0,t.jsx)(si,{children:e.customer}),(0,t.jsx)(si,{children:e.period}),(0,t.jsx)(si,{className:"font-semibold",children:e.amount}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:e.status==="Pagado"?"default":"secondary",children:e.status})}),(0,t.jsx)(si,{children:e.dueDate}),(0,t.jsx)(si,{children:e.paidDate}),(0,t.jsx)(si,{children:(0,t.jsx)(g,{variant:"ghost",size:"sm",children:(0,t.jsx)(ak.A,{className:"h-4 w-4"})})})]},e.id))})]})})]}):(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Historial de Transacciones"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"ID"}),(0,t.jsx)(sl,{children:"Tipo"}),(0,t.jsx)(sl,{children:"Cliente"}),(0,t.jsx)(sl,{children:"Monto"}),(0,t.jsx)(sl,{children:"Comisi\xf3n"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Operador"}),(0,t.jsx)(sl,{children:"Fecha"})]})}),(0,t.jsx)(sa,{children:tv.map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.id}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"outline",children:e.type})}),(0,t.jsx)(si,{children:e.customer}),(0,t.jsx)(si,{className:"font-semibold",children:e.amount}),(0,t.jsx)(si,{className:"text-green-600",children:e.commission}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"default",children:e.status})}),(0,t.jsx)(si,{children:e.operator}),(0,t.jsx)(si,{className:"text-sm text-gray-600",children:e.date})]},e.id))})]})})]})]})}var tN=a(21492);const tb=[{id:1,name:"Almac\xe9n Central",location:"Ciudad de M\xe9xico",manager:"Carlos L\xf3pez",totalSims:2500,available:1200,assigned:1100,reserved:200,status:"Activo"},{id:2,name:"Almac\xe9n Norte",location:"Monterrey",manager:"Mar\xeda Garc\xeda",totalSims:1800,available:800,assigned:900,reserved:100,status:"Activo"},{id:3,name:"Almac\xe9n Sur",location:"Guadalajara",manager:"Juan P\xe9rez",totalSims:1500,available:600,assigned:800,reserved:100,status:"Activo"}];const ty=[{id:"MOV001",type:"Entrada",warehouse:"Almac\xe9n Central",quantity:500,operator:"Carlos L\xf3pez",date:"2024-01-15 10:30",description:"Recepci\xf3n de nuevo lote"},{id:"MOV002",type:"Transferencia",warehouse:"Almac\xe9n Norte",quantity:200,operator:"Mar\xeda Garc\xeda",date:"2024-01-15 09:15",description:"Transferencia desde Central"},{id:"MOV003",type:"Asignaci\xf3n",warehouse:"Almac\xe9n Sur",quantity:50,operator:"Juan P\xe9rez",date:"2024-01-14 16:45",description:"Asignaci\xf3n a operador"}];function tw(e){let{userRole:s}=e;const[a,l]=(0,r.useState)("");const[i,o]=(0,r.useState)("all");const{canPerformAction:x}=_();const h=x("warehouse.write");return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(J.A,{className:"h-5 w-5 text-orange-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesti\xf3n de Almac\xe9n"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Control de inventario y movimientos"})]})]}),h&&(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(g,{variant:"outline",className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(tN.A,{className:"mr-2 h-4 w-4"}),"Transferir SIMs"]}),(0,t.jsxs)(g,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(sD.A,{className:"mr-2 h-4 w-4"}),"Nuevo Movimiento"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total SIMs"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"5,800"})]}),(0,t.jsx)(G.A,{className:"h-8 w-8 text-blue-600"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Disponibles"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"2,600"})]}),(0,t.jsx)(Z.A,{className:"h-8 w-8 text-green-600"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Asignadas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:"2,800"})]}),(0,t.jsx)(tN.A,{className:"h-8 w-8 text-orange-600"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Reservadas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"400"})]}),(0,t.jsx)(J.A,{className:"h-8 w-8 text-purple-600"})]})})})]}),(0,t.jsxs)(e3,{defaultValue:"warehouses",className:"space-y-4",children:[(0,t.jsxs)(e8,{children:[(0,t.jsx)(e7,{value:"warehouses",children:"Almacenes"}),(0,t.jsx)(e7,{value:"movements",children:"Movimientos"}),(0,t.jsx)(e7,{value:"reports",children:"Reportes"})]}),(0,t.jsx)(e9,{value:"warehouses",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Estado de Almacenes"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"Almac\xe9n"}),(0,t.jsx)(sl,{children:"Ubicaci\xf3n"}),(0,t.jsx)(sl,{children:"Responsable"}),(0,t.jsx)(sl,{children:"Total"}),(0,t.jsx)(sl,{children:"Disponibles"}),(0,t.jsx)(sl,{children:"Asignadas"}),(0,t.jsx)(sl,{children:"Reservadas"}),(0,t.jsx)(sl,{children:"Estado"})]})}),(0,t.jsx)(sa,{children:tb.map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.name}),(0,t.jsx)(si,{children:e.location}),(0,t.jsx)(si,{children:e.manager}),(0,t.jsx)(si,{className:"font-semibold",children:e.totalSims}),(0,t.jsx)(si,{className:"text-green-600",children:e.available}),(0,t.jsx)(si,{className:"text-orange-600",children:e.assigned}),(0,t.jsx)(si,{className:"text-purple-600",children:e.reserved}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"default",children:e.status})})]},e.id))})]})})]})}),(0,t.jsxs)(e9,{value:"movements",className:"space-y-4",children:[(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eW.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(eQ,{placeholder:"Buscar movimientos...",value:a,onChange:e=>l(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)(sO,{value:i,onValueChange:o,children:[(0,t.jsx)(sG,{className:"w-48",children:(0,t.jsx)(sB,{placeholder:"Almac\xe9n"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"all",children:"Todos los almacenes"}),(0,t.jsx)(sH,{value:"central",children:"Almac\xe9n Central"}),(0,t.jsx)(sH,{value:"norte",children:"Almac\xe9n Norte"}),(0,t.jsx)(sH,{value:"sur",children:"Almac\xe9n Sur"})]})]})]})})}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Historial de Movimientos"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"ID"}),(0,t.jsx)(sl,{children:"Tipo"}),(0,t.jsx)(sl,{children:"Almac\xe9n"}),(0,t.jsx)(sl,{children:"Cantidad"}),(0,t.jsx)(sl,{children:"Operador"}),(0,t.jsx)(sl,{children:"Fecha"}),(0,t.jsx)(sl,{children:"Descripci\xf3n"})]})}),(0,t.jsx)(sa,{children:ty.map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.id}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:e.type==="Entrada"?"default":e.type==="Transferencia"?"secondary":"outline",children:e.type})}),(0,t.jsx)(si,{children:e.warehouse}),(0,t.jsx)(si,{className:"font-semibold",children:e.quantity}),(0,t.jsx)(si,{children:e.operator}),(0,t.jsx)(si,{className:"text-sm text-gray-600",children:e.date}),(0,t.jsx)(si,{children:e.description})]},e.id))})]})})]})]}),(0,t.jsx)(e9,{value:"reports",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Reportes de Inventario"})}),(0,t.jsx)(m,{children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(Z.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Reportes de inventario y an\xe1lisis de stock"}),(0,t.jsx)(g,{className:"mt-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Generar Reporte"})]})})]})})]})]})}var tA=a(34869);var tC=a(54213);const tS=[{id:1,name:"Activaci\xf3n de SIM",url:"https://api.partner.com/webhooks/activation",status:"Activo",lastCall:"2024-01-15 14:30",success:"98.5%"},{id:2,name:"Recarga de Saldo",url:"https://api.partner.com/webhooks/recharge",status:"Activo",lastCall:"2024-01-15 14:25",success:"99.2%"},{id:3,name:"Suspensi\xf3n de L\xednea",url:"https://api.partner.com/webhooks/suspend",status:"Inactivo",lastCall:"2024-01-14 10:15",success:"97.8%"}];const tk=[{id:1,name:"API Principal",key:"sk_live_****************************",created:"2024-01-01",lastUsed:"2024-01-15 14:30",status:"Activa"},{id:2,name:"API Desarrollo",key:"sk_test_****************************",created:"2024-01-01",lastUsed:"2024-01-14 16:20",status:"Activa"}];function tT(e){let{userRole:s}=e;const[a,l]=(0,r.useState)(false);const[i,o]=(0,r.useState)(false);const{canPerformAction:x}=_();const h=x("settings.write");if(!h){return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(y.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Acceso Restringido"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No tienes permisos para acceder a la configuraci\xf3n del sistema."})]})})}return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(Q.A,{className:"h-5 w-5 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuraci\xf3n del Sistema"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Administrar configuraciones globales y par\xe1metros"})]})]})}),(0,t.jsxs)(e3,{defaultValue:"general",className:"space-y-4",children:[(0,t.jsxs)(e8,{className:"grid w-full grid-cols-5",children:[(0,t.jsx)(e7,{value:"general",children:"General"}),(0,t.jsx)(e7,{value:"notifications",children:"Notificaciones"}),(0,t.jsx)(e7,{value:"webhooks",children:"Webhooks"}),(0,t.jsx)(e7,{value:"api",children:"API Keys"}),(0,t.jsx)(e7,{value:"database",children:"Base de Datos"})]}),(0,t.jsx)(e9,{value:"general",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center space-x-2",children:[(0,t.jsx)(tA.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Configuraci\xf3n General"})]})}),(0,t.jsxs)(m,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"companyName",children:"Nombre de la Empresa"}),(0,t.jsx)(eQ,{id:"companyName",defaultValue:"OMV Telecom"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"timezone",children:"Zona Horaria"}),(0,t.jsxs)(sO,{defaultValue:"america/mexico_city",children:[(0,t.jsx)(sG,{children:(0,t.jsx)(sB,{})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"america/mexico_city",children:"Am\xe9rica/Ciudad de M\xe9xico"}),(0,t.jsx)(sH,{value:"america/new_york",children:"Am\xe9rica/Nueva York"}),(0,t.jsx)(sH,{value:"europe/madrid",children:"Europa/Madrid"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"currency",children:"Moneda"}),(0,t.jsxs)(sO,{defaultValue:"mxn",children:[(0,t.jsx)(sG,{children:(0,t.jsx)(sB,{})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"mxn",children:"Peso Mexicano (MXN)"}),(0,t.jsx)(sH,{value:"usd",children:"D\xf3lar Americano (USD)"}),(0,t.jsx)(sH,{value:"eur",children:"Euro (EUR)"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"language",children:"Idioma"}),(0,t.jsxs)(sO,{defaultValue:"es",children:[(0,t.jsx)(sG,{children:(0,t.jsx)(sB,{})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"es",children:"Espa\xf1ol"}),(0,t.jsx)(sH,{value:"en",children:"English"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"supportEmail",children:"Email de Soporte"}),(0,t.jsx)(eQ,{id:"supportEmail",type:"email",defaultValue:"soporte@omv.com"})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(g,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Guardar Configuraci\xf3n"})})]})]})}),(0,t.jsx)(e9,{value:"notifications",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center space-x-2",children:[(0,t.jsx)(eZ.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Configuraci\xf3n de Notificaciones"})]})}),(0,t.jsxs)(m,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{children:"Notificaciones de Activaci\xf3n"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Recibir notificaciones cuando se active una nueva l\xednea"})]}),(0,t.jsx)(sK,{defaultChecked:true})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{children:"Alertas de Stock Bajo"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Notificar cuando el stock de SIMs est\xe9 por debajo del l\xedmite"})]}),(0,t.jsx)(sK,{defaultChecked:true})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{children:"Reportes de Webhook Fallidos"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Alertar sobre fallos en webhooks"})]}),(0,t.jsx)(sK,{defaultChecked:true})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{children:"Notificaciones de Balance"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Alertar sobre cambios importantes en el balance"})]}),(0,t.jsx)(sK,{})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"stockThreshold",children:"L\xedmite de Stock Bajo"}),(0,t.jsx)(eQ,{id:"stockThreshold",type:"number",defaultValue:"100"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"balanceThreshold",children:"L\xedmite de Balance Bajo"}),(0,t.jsx)(eQ,{id:"balanceThreshold",type:"number",defaultValue:"1000"})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(g,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Guardar Notificaciones"})})]})]})}),(0,t.jsx)(e9,{value:"webhooks",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Y.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Configuraci\xf3n de Webhooks"})]}),(0,t.jsx)(g,{onClick:()=>l(true),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Agregar Webhook"})]})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"Nombre"}),(0,t.jsx)(sl,{children:"URL"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"\xdaltima Llamada"}),(0,t.jsx)(sl,{children:"\xc9xito"}),(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:tS.map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.name}),(0,t.jsx)(si,{className:"font-mono text-sm",children:e.url}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:e.status==="Activo"?"default":"secondary",children:e.status})}),(0,t.jsx)(si,{children:e.lastCall}),(0,t.jsx)(si,{className:"text-green-600 font-semibold",children:e.success}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(g,{variant:"ghost",size:"sm",children:"Editar"}),(0,t.jsx)(g,{variant:"ghost",size:"sm",children:"Probar"})]})})]},e.id))})]})})]})}),(0,t.jsx)(e9,{value:"api",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ar.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Gesti\xf3n de API Keys"})]}),(0,t.jsx)(g,{onClick:()=>o(true),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Generar Nueva Key"})]})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"Nombre"}),(0,t.jsx)(sl,{children:"Key"}),(0,t.jsx)(sl,{children:"Creada"}),(0,t.jsx)(sl,{children:"\xdaltimo Uso"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:tk.map(e=>(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.name}),(0,t.jsx)(si,{className:"font-mono text-sm",children:e.key}),(0,t.jsx)(si,{children:e.created}),(0,t.jsx)(si,{children:e.lastUsed}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"default",children:e.status})}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(g,{variant:"ghost",size:"sm",children:"Regenerar"}),(0,t.jsx)(g,{variant:"ghost",size:"sm",className:"text-red-600",children:"Revocar"})]})})]},e.id))})]})})]})}),(0,t.jsx)(e9,{value:"database",className:"space-y-4",children:(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsxs)(d,{className:"flex items-center space-x-2",children:[(0,t.jsx)(tC.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Configuraci\xf3n de Base de Datos"})]})}),(0,t.jsxs)(m,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"dbHost",children:"Host"}),(0,t.jsx)(eQ,{id:"dbHost",defaultValue:"localhost"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"dbPort",children:"Puerto"}),(0,t.jsx)(eQ,{id:"dbPort",defaultValue:"5432"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"dbName",children:"Nombre de la Base de Datos"}),(0,t.jsx)(eQ,{id:"dbName",defaultValue:"omv_database"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{htmlFor:"dbUser",children:"Usuario"}),(0,t.jsx)(eQ,{id:"dbUser",defaultValue:"omv_user"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{children:"Backup Autom\xe1tico"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Realizar backup diario de la base de datos"})]}),(0,t.jsx)(sK,{defaultChecked:true})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(sR,{children:"Logs de Consultas"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Registrar todas las consultas SQL"})]}),(0,t.jsx)(sK,{})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(g,{variant:"outline",className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Probar Conexi\xf3n"}),(0,t.jsx)(g,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Guardar Configuraci\xf3n"})]})]})]})})]})]})}var tD=a(54861);const tz=[{id:"WH001",endpoint:"https://api.partner.com/webhooks/activation",event:"sim.activated",method:"POST",status:"success",statusCode:200,responseTime:"245ms",timestamp:"2024-01-15 14:30:25",payload:{event:"sim.activated",sim_id:"8934071234567890123",msisdn:"+52 55 1234 5678",customer_id:"CUST001",plan:"basic_500mb"},response:{status:"ok",message:"Activation processed successfully"}},{id:"WH002",endpoint:"https://api.partner.com/webhooks/recharge",event:"balance.recharged",method:"POST",status:"failed",statusCode:500,responseTime:"5000ms",timestamp:"2024-01-15 14:25:10",payload:{event:"balance.recharged",customer_id:"CUST002",amount:20,currency:"MXN"},response:{error:"Internal server error",message:"Database connection failed"}},{id:"WH003",endpoint:"https://api.partner.com/webhooks/suspension",event:"sim.suspended",method:"POST",status:"pending",statusCode:null,responseTime:null,timestamp:"2024-01-15 14:20:15",payload:{event:"sim.suspended",sim_id:"8934071234567890124",reason:"payment_overdue"},response:null}];const tP={success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",timeout:"bg-orange-100 text-orange-800"};const tM={success:at.A,failed:tD.A,pending:ax.A,timeout:ax.A};function tE(e){let{userRole:s}=e;const[a,l]=(0,r.useState)("");const[i,o]=(0,r.useState)("all");const[x,h]=(0,r.useState)(null);const{canPerformAction:u}=_();const j=tz.filter(e=>{const s=e.endpoint.toLowerCase().includes(a.toLowerCase())||e.event.toLowerCase().includes(a.toLowerCase())||e.id.toLowerCase().includes(a.toLowerCase());const t=i==="all"||e.status===i;return s&&t});const p=u("webhooks.read");if(!p){return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(Y.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Acceso Restringido"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No tienes permisos para ver los logs de webhooks."})]})})}return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(Y.A,{className:"h-5 w-5 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Logs de Webhooks"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Monitorear llamadas y respuestas de webhooks"})]})]}),(0,t.jsxs)(g,{onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(B.A,{className:"mr-2 h-4 w-4"}),"Actualizar"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Llamadas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"1,456"})]}),(0,t.jsx)(Y.A,{className:"h-8 w-8 text-blue-600"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Exitosas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"1,432"})]}),(0,t.jsx)(at.A,{className:"h-8 w-8 text-green-600"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Fallidas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:"23"})]}),(0,t.jsx)(tD.A,{className:"h-8 w-8 text-red-600"})]})})}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Tasa de \xc9xito"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"98.4%"})]}),(0,t.jsx)(ax.A,{className:"h-8 w-8 text-purple-600"})]})})})]}),(0,t.jsx)(n,{children:(0,t.jsx)(m,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eW.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(eQ,{placeholder:"Buscar por endpoint, evento o ID...",value:a,onChange:e=>l(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)(sO,{value:i,onValueChange:o,children:[(0,t.jsx)(sG,{className:"w-48",children:(0,t.jsx)(sB,{placeholder:"Estado"})}),(0,t.jsxs)(sU,{children:[(0,t.jsx)(sH,{value:"all",children:"Todos los estados"}),(0,t.jsx)(sH,{value:"success",children:"Exitoso"}),(0,t.jsx)(sH,{value:"failed",children:"Fallido"}),(0,t.jsx)(sH,{value:"pending",children:"Pendiente"}),(0,t.jsx)(sH,{value:"timeout",children:"Timeout"})]})]})]})})}),(0,t.jsxs)(n,{children:[(0,t.jsx)(c,{children:(0,t.jsx)(d,{children:"Historial de Webhooks"})}),(0,t.jsx)(m,{children:(0,t.jsxs)(se,{children:[(0,t.jsx)(ss,{children:(0,t.jsxs)(sr,{children:[(0,t.jsx)(sl,{children:"ID"}),(0,t.jsx)(sl,{children:"Endpoint"}),(0,t.jsx)(sl,{children:"Evento"}),(0,t.jsx)(sl,{children:"Estado"}),(0,t.jsx)(sl,{children:"C\xf3digo"}),(0,t.jsx)(sl,{children:"Tiempo"}),(0,t.jsx)(sl,{children:"Timestamp"}),(0,t.jsx)(sl,{children:"Acciones"})]})}),(0,t.jsx)(sa,{children:j.map(e=>{const s=tM[e.status];return(0,t.jsxs)(sr,{children:[(0,t.jsx)(si,{className:"font-medium",children:e.id}),(0,t.jsx)(si,{className:"font-mono text-sm max-w-xs truncate",children:e.endpoint}),(0,t.jsx)(si,{children:(0,t.jsx)(f,{variant:"outline",children:e.event})}),(0,t.jsx)(si,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(s,{className:"h-4 w-4"}),(0,t.jsx)(f,{className:tP[e.status],children:e.status})]})}),(0,t.jsx)(si,{children:e.statusCode&&(0,t.jsx)(f,{variant:e.statusCode>=200&&e.statusCode<300?"default":"destructive",children:e.statusCode})}),(0,t.jsx)(si,{children:e.responseTime||"-"}),(0,t.jsx)(si,{className:"text-sm text-gray-600",children:e.timestamp}),(0,t.jsx)(si,{children:(0,t.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>h(e),title:"Ver detalles",children:(0,t.jsx)(ai.A,{className:"h-4 w-4"})})})]},e.id)})})]})})]}),x&&(0,t.jsx)(ew,{open:!!x,onOpenChange:()=>h(null),children:(0,t.jsxs)(eT,{className:"max-w-4xl",children:[(0,t.jsx)(eD,{children:(0,t.jsxs)(eP,{children:["Detalle del Webhook - ",x.id]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(Label,{className:"text-sm font-medium text-gray-600",children:"Endpoint"}),(0,t.jsx)("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:x.endpoint})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(Label,{className:"text-sm font-medium text-gray-600",children:"Evento"}),(0,t.jsx)("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:x.event})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(Label,{className:"text-sm font-medium text-gray-600",children:"M\xe9todo"}),(0,t.jsx)("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:x.method})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(Label,{className:"text-sm font-medium text-gray-600",children:"Estado"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f,{className:tP[x.status],children:x.status}),x.statusCode&&(0,t.jsx)(f,{variant:x.statusCode>=200&&x.statusCode<300?"default":"destructive",children:x.statusCode})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(Label,{className:"text-sm font-medium text-gray-600",children:"Payload Enviado"}),(0,t.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto max-h-40",children:JSON.stringify(x.payload,null,2)})]}),x.response&&(0,t.jsxs)("div",{children:[(0,t.jsx)(Label,{className:"text-sm font-medium text-gray-600",children:"Respuesta"}),(0,t.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto max-h-40",children:JSON.stringify(x.response,null,2)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(Label,{className:"text-sm font-medium text-gray-600",children:"Tiempo de Respuesta"}),(0,t.jsx)("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:x.responseTime||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(Label,{className:"text-sm font-medium text-gray-600",children:"Timestamp"}),(0,t.jsx)("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:x.timestamp})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(g,{variant:"outline",onClick:()=>h(null),children:"Cerrar"}),(0,t.jsx)(g,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Reintentar Webhook"})]})]})]})})]})};function tR(){const[e,s]=(0,r.useState)("dashboard");const[a,i]=(0,r.useState)(false);const{user:n,isAuthenticated:c,isLoading:d}=(0,l.A)();if(d){return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:(0,t.jsx)("span",{className:"text-white text-2xl",children:"⚡"})}),(0,t.jsx)("p",{className:"text-gray-600",children:"Cargando sistema..."})]})})}if(!c||!n){return(0,t.jsx)(E,{})}const o=n.role;const x=e=>{s(e)};const m=()=>{switch(e){case"dashboard":switch(o){case"superadmin":return(0,t.jsx)(sA,{});case"admin":case"gerente":return(0,t.jsx)(sT,{role:o});case"operator":case"subdistributor":case"vendor":return(0,t.jsx)(sM,{role:o});default:return(0,t.jsx)(sA,{})}case"activations":case"recharges":return(0,t.jsx)(th,{type:e,userRole:o});case"plans-offers":return(0,t.jsx)(tp,{userRole:o});case"customers":return(0,t.jsx)(aL,{userRole:o});case"lines":return(0,t.jsx)(aL,{userRole:o,activeTab:"lines"});case"sims":return(0,t.jsx)(aM,{userRole:o});case"warehouse":return(0,t.jsx)(tw,{userRole:o});case"balance":return(0,t.jsx)(aW,{userRole:o});case"billing":case"transactions":return(0,t.jsx)(tf,{type:e,userRole:o});case"tickets":return(0,t.jsx)(aU,{userRole:o});case"reports":return(0,t.jsx)(ta,{userRole:o});case"users":return(0,t.jsx)(af,{userRole:o});case"settings":return(0,t.jsx)(tT,{userRole:o});case"webhook-logs":return(0,t.jsx)(tE,{userRole:o});default:return(0,t.jsx)(sA,{})}};return(0,t.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,t.jsx)(er,{activeView:e,setActiveView:s,userRole:o,collapsed:a,setCollapsed:i}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(e6,{userRole:o,user:n,sidebarCollapsed:a,setSidebarCollapsed:i,onNavigate:x}),(0,t.jsx)("main",{className:"flex-1 overflow-auto bg-gray-50",children:m()})]})]})}},50395:(e,s,a)=>{"use strict";a.d(s,{A:()=>c,AuthProvider:()=>n,_:()=>i});var t=a(95155);var r=a(12115);const l=(0,r.createContext)(undefined);const i={superadmin:{id:"demo-superadmin",name:"Carlos Rodr\xedguez",email:"superadmin@omv.com",role:"superadmin",avatar:"/placeholder-user.jpg",department:"Administraci\xf3n",permissions:["users.read","users.write","users.delete","sims.read","sims.write","sims.delete","customers.read","customers.write","customers.delete","tickets.read","tickets.write","tickets.assign","balance.read","balance.write","balance.transfer","reports.read","reports.generate","reports.export","settings.read","settings.write","webhooks.read","webhooks.write","warehouse.read","warehouse.write","billing.read","billing.write","plans.read","plans.write"]},admin:{id:"demo-admin",name:"Mar\xeda Gonz\xe1lez",email:"admin@omv.com",role:"admin",avatar:"/placeholder-user.jpg",department:"Operaciones",supervisor:"Carlos Rodr\xedguez",permissions:["users.read","users.write","sims.read","sims.write","customers.read","customers.write","tickets.read","tickets.write","tickets.assign","balance.read","balance.write","balance.transfer","reports.read","reports.generate","warehouse.read","warehouse.write","billing.read","plans.read","plans.write"]},gerente:{id:"demo-gerente",name:"Juan Mart\xednez",email:"gerente@omv.com",role:"gerente",avatar:"/placeholder-user.jpg",department:"Ventas",supervisor:"Mar\xeda Gonz\xe1lez",permissions:["users.read","sims.read","sims.write","customers.read","customers.write","tickets.read","tickets.write","balance.read","balance.transfer","reports.read","reports.generate","warehouse.read","plans.read"]},operator:{id:"demo-operator",name:"Ana L\xf3pez",email:"operator@omv.com",role:"operator",avatar:"/placeholder-user.jpg",department:"Operaciones",supervisor:"Juan Mart\xednez",permissions:["sims.read","sims.write","customers.read","customers.write","tickets.read","tickets.write","balance.read","activations.read","activations.write","recharges.read","recharges.write"]},subdistributor:{id:"demo-subdistributor",name:"Pedro S\xe1nchez",email:"subdistributor@omv.com",role:"subdistributor",avatar:"/placeholder-user.jpg",department:"Distribuci\xf3n",supervisor:"Ana L\xf3pez",permissions:["sims.read","customers.read","customers.write","tickets.read","tickets.write","balance.read","activations.read","activations.write","recharges.read","recharges.write"]},vendor:{id:"demo-vendor",name:"Laura D\xedaz",email:"vendor@omv.com",role:"vendor",avatar:"/placeholder-user.jpg",department:"Ventas",supervisor:"Pedro S\xe1nchez",permissions:["customers.read","customers.write","tickets.read","tickets.write","balance.read","activations.read","activations.write","recharges.read","recharges.write"]}};function n(e){let{children:s}=e;const[a,n]=(0,r.useState)(null);const[c,d]=(0,r.useState)(true);(0,r.useEffect)(()=>{const e=()=>{try{const e=localStorage.getItem("omv_user");const s=localStorage.getItem("omv_session_token");const a=localStorage.getItem("omv_session_expiry");if(e&&s&&a){const s=new Date(a);const t=new Date;if(t<s){n(JSON.parse(e))}else{o()}}}catch(e){console.error("Error initializing auth:",e);o()}finally{d(false)}};e()},[]);const o=()=>{localStorage.removeItem("omv_user");localStorage.removeItem("omv_session_token");localStorage.removeItem("omv_session_expiry");sessionStorage.clear()};const x=e=>{const s=new Date;s.setHours(s.getHours()+8);const a="omv_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));localStorage.setItem("omv_user",JSON.stringify(e));localStorage.setItem("omv_session_token",a);localStorage.setItem("omv_session_expiry",s.toISOString());n(e)};const m=async(e,s)=>{d(true);try{await new Promise(e=>setTimeout(e,1e3));const a=Object.values(i).find(s=>s.email===e);if(a&&s){x(a);d(false);return true}d(false);return false}catch(e){console.error("Login error:",e);d(false);return false}};const h=async e=>{d(true);try{await new Promise(e=>setTimeout(e,800));const s=i[e];if(s){x(s);d(false);return true}d(false);return false}catch(e){console.error("Demo login error:",e);d(false);return false}};const u=async()=>{d(true);try{await new Promise(e=>setTimeout(e,500));o();n(null);if(true){const e=[];for(let s=0;s<localStorage.length;s++){const a=localStorage.key(s);if(a&&a.startsWith("omv_")){e.push(a)}}e.forEach(e=>localStorage.removeItem(e))}d(false)}catch(e){console.error("Logout error:",e);o();n(null);d(false)}};const j=e=>{if(a){const s={...a,...e};n(s);localStorage.setItem("omv_user",JSON.stringify(s))}};const p=e=>{if(!a)return false;return a.permissions.includes(e)};const g=e=>{if(!a)return false;return e.includes(a.role)};(0,r.useEffect)(()=>{if(!a)return;const e=()=>{const e=localStorage.getItem("omv_session_expiry");if(e){const s=new Date(e);const a=new Date;if(a>=s){u()}}};const s=setInterval(e,6e4);return()=>clearInterval(s)},[a]);const v={user:a,isAuthenticated:!!a,isLoading:c,login:m,loginAsDemo:h,logout:u,updateUser:j,hasPermission:p,hasRole:g};return(0,t.jsx)(l.Provider,{value:v,children:s})}function c(){const e=(0,r.useContext)(l);if(e===undefined){throw new Error("useAuth must be used within an AuthProvider")}return e}},53580:(e,s,a)=>{"use strict";a.d(s,{dj:()=>p,oR:()=>j});var t=a(12115);const r=1;const l=5e3;const i={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let n=0;function c(){n=(n+1)%Number.MAX_SAFE_INTEGER;return n.toString()}const d=new Map;const o=e=>{if(d.has(e)){return}const s=setTimeout(()=>{d.delete(e);u({type:"REMOVE_TOAST",toastId:e})},l);d.set(e,s)};const x=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,r)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{const{toastId:a}=s;if(a){if(d.has(a)){clearTimeout(d.get(a));d.delete(a)}o(a)}else{e.toasts.forEach(e=>{if(d.has(e.id)){clearTimeout(d.get(e.id));d.delete(e.id)}o(e.id)})}return{...e,toasts:e.toasts.map(e=>e.id===a||a===undefined?{...e,open:false}:e)}}case"REMOVE_TOAST":if(s.toastId===undefined){d.forEach(e=>clearTimeout(e));d.clear();return{...e,toasts:[]}}if(d.has(s.toastId)){clearTimeout(d.get(s.toastId));d.delete(s.toastId)}return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}};const m=[];let h={toasts:[]};function u(e){h=x(h,e);m.forEach(e=>{e(h)})}function j(e){let{...s}=e;const a=c();const t=e=>u({type:"UPDATE_TOAST",toast:{...e,id:a}});const r=()=>u({type:"DISMISS_TOAST",toastId:a});u({type:"ADD_TOAST",toast:{...s,id:a,open:true,onOpenChange:e=>{if(!e)r()}}});return{id:a,dismiss:r,update:t}}function p(){const[e,s]=t.useState(h);t.useEffect(()=>{m.push(s);return()=>{const e=m.indexOf(s);if(e>-1){m.splice(e,1)}}},[e]);return{...e,toast:j,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},53999:(e,s,a)=>{"use strict";a.d(s,{cn:()=>l});var t=a(52596);var r=a(39688);function l(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++){s[a]=arguments[a]}return(0,r.QP)((0,t.$)(s))}},81745:(e,s,a)=>{Promise.resolve().then(a.bind(a,40079))}},e=>{var s=s=>e(e.s=s);e.O(0,[185,545,441,684,358],()=>s(81745));var a=e.O();_N_E=a}]);